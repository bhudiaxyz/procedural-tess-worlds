(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/HNH":function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_0(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute_0(permute_0(ix) + iy);\n  vec4 ixy0 = permute_0(ixy + iz0);\n  vec4 ixy1 = permute_0(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n// Permutation polynomial: (34x^2 + x) mod 289\nvec3 permute_1(vec3 x) {\n  return mod((34.0 * x + 1.0) * x, 289.0);\n}\n\nvec3 dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {\n  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);\n}\n\nvec2 worley(vec3 P, float jitter, bool manhattanDistance) {\nfloat K = 0.142857142857; // 1/7\nfloat Ko = 0.428571428571; // 1/2-K/2\nfloat  K2 = 0.020408163265306; // 1/(7*7)\nfloat Kz = 0.166666666667; // 1/6\nfloat Kzo = 0.416666666667; // 1/2-1/6*2\n\n\tvec3 Pi = mod(floor(P), 289.0);\n \tvec3 Pf = fract(P) - 0.5;\n\n\tvec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n\tvec3 p = permute_1(Pi.x + vec3(-1.0, 0.0, 1.0));\n\tvec3 p1 = permute_1(p + Pi.y - 1.0);\n\tvec3 p2 = permute_1(p + Pi.y);\n\tvec3 p3 = permute_1(p + Pi.y + 1.0);\n\n\tvec3 p11 = permute_1(p1 + Pi.z - 1.0);\n\tvec3 p12 = permute_1(p1 + Pi.z);\n\tvec3 p13 = permute_1(p1 + Pi.z + 1.0);\n\n\tvec3 p21 = permute_1(p2 + Pi.z - 1.0);\n\tvec3 p22 = permute_1(p2 + Pi.z);\n\tvec3 p23 = permute_1(p2 + Pi.z + 1.0);\n\n\tvec3 p31 = permute_1(p3 + Pi.z - 1.0);\n\tvec3 p32 = permute_1(p3 + Pi.z);\n\tvec3 p33 = permute_1(p3 + Pi.z + 1.0);\n\n\tvec3 ox11 = fract(p11*K) - Ko;\n\tvec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;\n\tvec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n\tvec3 ox12 = fract(p12*K) - Ko;\n\tvec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;\n\tvec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n\tvec3 ox13 = fract(p13*K) - Ko;\n\tvec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;\n\tvec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n\tvec3 ox21 = fract(p21*K) - Ko;\n\tvec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;\n\tvec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n\tvec3 ox22 = fract(p22*K) - Ko;\n\tvec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;\n\tvec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n\tvec3 ox23 = fract(p23*K) - Ko;\n\tvec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;\n\tvec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n\tvec3 ox31 = fract(p31*K) - Ko;\n\tvec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;\n\tvec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n\tvec3 ox32 = fract(p32*K) - Ko;\n\tvec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;\n\tvec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n\tvec3 ox33 = fract(p33*K) - Ko;\n\tvec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;\n\tvec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n\tvec3 dx11 = Pfx + jitter*ox11;\n\tvec3 dy11 = Pfy.x + jitter*oy11;\n\tvec3 dz11 = Pfz.x + jitter*oz11;\n\n\tvec3 dx12 = Pfx + jitter*ox12;\n\tvec3 dy12 = Pfy.x + jitter*oy12;\n\tvec3 dz12 = Pfz.y + jitter*oz12;\n\n\tvec3 dx13 = Pfx + jitter*ox13;\n\tvec3 dy13 = Pfy.x + jitter*oy13;\n\tvec3 dz13 = Pfz.z + jitter*oz13;\n\n\tvec3 dx21 = Pfx + jitter*ox21;\n\tvec3 dy21 = Pfy.y + jitter*oy21;\n\tvec3 dz21 = Pfz.x + jitter*oz21;\n\n\tvec3 dx22 = Pfx + jitter*ox22;\n\tvec3 dy22 = Pfy.y + jitter*oy22;\n\tvec3 dz22 = Pfz.y + jitter*oz22;\n\n\tvec3 dx23 = Pfx + jitter*ox23;\n\tvec3 dy23 = Pfy.y + jitter*oy23;\n\tvec3 dz23 = Pfz.z + jitter*oz23;\n\n\tvec3 dx31 = Pfx + jitter*ox31;\n\tvec3 dy31 = Pfy.z + jitter*oy31;\n\tvec3 dz31 = Pfz.x + jitter*oz31;\n\n\tvec3 dx32 = Pfx + jitter*ox32;\n\tvec3 dy32 = Pfy.z + jitter*oy32;\n\tvec3 dz32 = Pfz.y + jitter*oz32;\n\n\tvec3 dx33 = Pfx + jitter*ox33;\n\tvec3 dy33 = Pfy.z + jitter*oy33;\n\tvec3 dz33 = Pfz.z + jitter*oz33;\n\n\tvec3 d11 = dist(dx11, dy11, dz11, manhattanDistance);\n\tvec3 d12 =dist(dx12, dy12, dz12, manhattanDistance);\n\tvec3 d13 = dist(dx13, dy13, dz13, manhattanDistance);\n\tvec3 d21 = dist(dx21, dy21, dz21, manhattanDistance);\n\tvec3 d22 = dist(dx22, dy22, dz22, manhattanDistance);\n\tvec3 d23 = dist(dx23, dy23, dz23, manhattanDistance);\n\tvec3 d31 = dist(dx31, dy31, dz31, manhattanDistance);\n\tvec3 d32 = dist(dx32, dy32, dz32, manhattanDistance);\n\tvec3 d33 = dist(dx33, dy33, dz33, manhattanDistance);\n\n\tvec3 d1a = min(d11, d12);\n\td12 = max(d11, d12);\n\td11 = min(d1a, d13); // Smallest now not in d12 or d13\n\td13 = max(d1a, d13);\n\td12 = min(d12, d13); // 2nd smallest now not in d13\n\tvec3 d2a = min(d21, d22);\n\td22 = max(d21, d22);\n\td21 = min(d2a, d23); // Smallest now not in d22 or d23\n\td23 = max(d2a, d23);\n\td22 = min(d22, d23); // 2nd smallest now not in d23\n\tvec3 d3a = min(d31, d32);\n\td32 = max(d31, d32);\n\td31 = min(d3a, d33); // Smallest now not in d32 or d33\n\td33 = max(d3a, d33);\n\td32 = min(d32, d33); // 2nd smallest now not in d33\n\tvec3 da = min(d11, d21);\n\td21 = max(d11, d21);\n\td11 = min(da, d31); // Smallest now in d11\n\td31 = max(da, d31); // 2nd smallest now not in d31\n\td11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n\td11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n\td12 = min(d12, d21); // 2nd smallest now not in d21\n\td12 = min(d12, d22); // nor in d22\n\td12 = min(d12, d31); // nor in d31\n\td12 = min(d12, d32); // nor in d32\n\td11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n\td11.y = min(d11.y,d12.z); // Only two more to go\n\td11.y = min(d11.y,d11.z); // Done! (Phew!)\n\treturn sqrt(d11.xy); // F1, F2\n\n}\n\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\nuniform sampler2D nebulaMap;\n\nvarying vec2 vUv;\n\nconst int octaves = 16;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\n// float simplexRidged(vec3 pos, float seed) {\n// \tfloat n = noise(vec4(pos, seed));\n// \tn = (n + 1.0) * 0.5;\n// \tn = 2.0 * (0.5 - abs(0.5 - n));\n// \treturn n;\n// }\n\nfloat simplexRidged(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    n = abs(n);\n    return n;\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // return (n + 1.0) * 0.5;\n    n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplex(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = fract(n*10.0);\n    // n *= abs(sin(pos.y*10.0));\n    // n += 0.4;\n\n    // increase contrast\n    n = ((n - 0.5) * 3.0) + 0.6;\n\n    // n = pow(n, 3.0);\n    // n = pow( (1.0-n), 2.0);\n    // n = pow(n, 2.0);\n\n    // n = 1.0-n;\n    // n = pow(n, 6.0);\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat ridgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, 2.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n    // n = 1.0-n;\n    // n = pow(n, 2.0);\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat invRidgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = 1.0 - n;\n    n = pow(n, 2.0);\n    n = 1.0 - n;\n\n    return n;\n}\n\nfloat cloud(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    n = sin(n*4.0 * cos(n*2.0));\n    //    n = sin(n*7.0);\n\n    n = n*0.5 + 0.5;\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat cloudNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  cloud(vec3(pos.x*gain/frq, 1.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n    n = 1.0-n;\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat star(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n\n    n = abs(n);\n    // n = n*0.5 + 0.5;\n    // n = pow(n, 2.0);\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat rand(vec3 co, float seed) {\n    return fract(sin(dot(co.xyz, vec3(12.9898, 78.233, 34.830))) * (43758.5453+seed)/resolution);\n}\n\nfloat starNoise(vec3 pos, float seed) {\n\n    float n = rand(pos.xyz*100.0, seed);\n\n    // n = pow(n, 2.0);\n    // if (n < 0.99) {\n    // \tn = 0.0;\n    // }\n\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    // create nebula\n    float c1 = cloudNoise(sphericalCoord, res1, seed);\n    float c2 = cloudNoise(sphericalCoord + vec3(c1*res2*0.2), res2, seed+310.4);\n    // c2 = pow(c2, 5.0) * 1.0;\n    float c3 = cloudNoise(sphericalCoord, resMix, seed + 661.384);\n\n    float nebulaStrength = 2.0 * pow(c2, 3.0);\n    // float nebulaStrength = 1.0;\n    vec3 nColor = texture2D(nebulaMap, vec2(c3, c1)).rgb * nebulaStrength;\n    // float c4 = cloudNoise(sphericalCoord, resMix, seed + 61.684);\n    // c4 = pow(c4, 3.0) * 1.0;\n    // nColor = mix(nColor, nColor*0.3, c4*1.0);\n    vec4 nebula = vec4(nColor, 1.0);\n\n    // add in large stars to nebula\n    float sub1 = baseNoise(sphericalCoord, 0.003, seed+322.284);\n    vec2 F = worley((sphericalCoord * 150.0) + vec3(seed+35.890), 1.0, true);\n    float F1 = F.x;\n    float n2 = F1;\n    n2 = 1.0 - n2;\n    n2 *= 1.2;\n    n2 = pow(n2, 7.0);\n    n2 *= c2;\n    n2 *= sub1;\n    nebula += vec4(vec3(n2), 1.0);\n\n    float c4 = invRidgedNoise(sphericalCoord, 1.0, seed+38.476);\n    c4 = ((c4 - 0.5) * 1.5) + 0.5;\n    nebula.rgb += c4*0.3;\n    nebula.a = pow(c2, 1.0);\n    nebula.rgb = ((nebula.rgb - 0.5) * (1.0+c2*1.0)) + 0.5;\n\n    gl_FragColor = nebula;\n}\n'},0:function(e,n){},"10kV":function(e,n){e.exports="#define GLSLIFY 1\n// Source: http://jsfiddle.net/VsWb9/770/\n\n//\n// Atmospheric scattering vertex shader\n//\n// Author: Sean O'Neil\n//\n// Copyright (c) 2004 Sean O'Neil\n//\n\nuniform vec3 v3LightPosition;// The direction vector to the light source\nuniform vec3 v3InvWavelength;// 1 / pow(wavelength, 4) for the red, green, and blue channels\nuniform float fCameraHeight;// The camera's current height\nuniform float fOuterRadius;// The outer (atmosphere) radius\nuniform float fInnerRadius;// The inner (planetary) radius\nuniform float fKrESun;// Kr * ESun\nuniform float fKmESun;// Km * ESun\nuniform float fKr4PI;// Kr * 4 * PI\nuniform float fKm4PI;// Km * 4 * PI\nuniform float fScale;// 1 / (fOuterRadius - fInnerRadius)\nuniform float fScaleDepth;// The scale depth (i.e. the altitude at which the atmosphere's average density is found)\nuniform float fScaleOverScaleDepth;// fScale / fScaleDepth\n\nconst int nSamples = 3;\nconst float fSamples = 3.0;\n\nvarying vec3 v3Direction;\nvarying vec3 c0;\nvarying vec3 c1;\n\nfloat scale(float fCos)\n{\n    float x = 1.0 - fCos;\n    return fScaleDepth * exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\n}\n\nvoid main(void)\n{\n    // Get the ray from the camera to the vertex and its length (which is the far point of the ray passing through the atmosphere)\n    vec3 v3Ray = position - cameraPosition;\n    float fFar = length(v3Ray);\n    v3Ray /= fFar;\n\n    // Calculate the closest intersection of the ray with the outer atmosphere (which is the near point of the ray passing through the atmosphere)\n    float B = 2.0 * dot(cameraPosition, v3Ray);\n    float C = (fCameraHeight * fCameraHeight) - (fOuterRadius * fOuterRadius);\n    float fDet = max(0.0, B*B - 4.0 * C);\n    float fNear = 0.5 * (-B - sqrt(fDet));\n\n    // Calculate the ray's starting position, then calculate its scattering offset\n    vec3 v3Start = cameraPosition + v3Ray * fNear;\n    fFar -= fNear;\n    float fStartAngle = dot(v3Ray, v3Start) / fOuterRadius;\n    float fStartDepth = exp(-1.0 / fScaleDepth);\n    float fStartOffset = fStartDepth * scale(fStartAngle);\n    //c0 = vec3(1.0, 0, 0) * fStartAngle;\n\n    // Initialize the scattering loop variables\n    float fSampleLength = fFar / fSamples;\n    float fScaledLength = fSampleLength * fScale;\n    vec3 v3SampleRay = v3Ray * fSampleLength;\n    vec3 v3SamplePoint = v3Start + v3SampleRay * 0.5;\n\n    //gl_FrontColor = vec4(0.0, 0.0, 0.0, 0.0);\n\n    // Now loop through the sample rays\n    vec3 v3FrontColor = vec3(0.0, 0.0, 0.0);\n    for (int i=0; i<nSamples; i++)\n    {\n        float fHeight = length(v3SamplePoint);\n        float fDepth = exp(fScaleOverScaleDepth * (fInnerRadius - fHeight));\n        float fLightAngle = dot(v3LightPosition, v3SamplePoint) / fHeight;\n        float fCameraAngle = dot(v3Ray, v3SamplePoint) / fHeight;\n        float fScatter = (fStartOffset + fDepth * (scale(fLightAngle) - scale(fCameraAngle)));\n        vec3 v3Attenuate = exp(-fScatter * (v3InvWavelength * fKr4PI + fKm4PI));\n\n        v3FrontColor += v3Attenuate * (fDepth * fScaledLength);\n        v3SamplePoint += v3SampleRay;\n    }\n\n    // Finally, scale the Mie and Rayleigh colors and set up the varying variables for the pixel shader\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    c0 = v3FrontColor * (v3InvWavelength * fKrESun);\n    c1 = v3FrontColor * fKmESun;\n    v3Direction = cameraPosition - position;\n}\n"},"594y":function(e,n){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texWater;\nuniform sampler2D texSand;\nuniform sampler2D texGrass;\nuniform sampler2D texStone;\nuniform sampler2D texSnow;\nuniform vec3 lightPosition;\nuniform vec4 lightColor;\nuniform float lightIntensity;\nuniform float radius;\nuniform float roughness;\nuniform float seed;\n\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vReflect;\nvarying vec3 vPosition;\nvarying vec3 vPosition01;\nvarying vec3 vNewPosition;\nvarying float displacement;\nvarying vec3 lightDirection;\n\nfloat random(vec3 p){\n    return fract(sin(dot(p.xyz, vec3(12.9898, 78.233, 1.23456))) * (5356.5453+ seed*1234.7582));\n}\n\nvoid main(void)\n{\n    vec3 blending = abs(vNormal);\n    blending = (blending - 0.25) * 8.0 / random(vNormal);\n    blending = max(blending, 0.0);// Force weights to sum to 1.0\n    float b = (blending.x + blending.y + blending.z);\n    blending /= vec3(b, b, b);\n\n    vec4 vec_waterx = texture2D(texWater, vPosition01.yz);\n    vec4 vec_watery = texture2D(texWater, vPosition01.xz);\n    vec4 vec_waterz = texture2D(texWater, vPosition01.xy);\n\n    vec4 vec_sandx = texture2D(texSand, vPosition01.yz);\n    vec4 vec_sandy = texture2D(texSand, vPosition01.xz);\n    vec4 vec_sandz = texture2D(texSand, vPosition01.xy);\n\n    vec4 vec_grassx = texture2D(texGrass, vPosition01.yz);\n    vec4 vec_grassy = texture2D(texGrass, vPosition01.xz);\n    vec4 vec_grassz = texture2D(texGrass, vPosition01.xy);\n\n    vec4 vec_stonex = texture2D(texStone, vPosition01.yz);\n    vec4 vec_stoney = texture2D(texStone, vPosition01.xz);\n    vec4 vec_stonez = texture2D(texStone, vPosition01.xy);\n\n    vec4 vec_snowx = texture2D(texSnow, vPosition01.yz);\n    vec4 vec_snowy = texture2D(texSnow, vPosition01.xz);\n    vec4 vec_snowz = texture2D(texSnow, vPosition01.xy);\n\n    vec4 vec_water = vec_waterx * blending.x + vec_watery * blending.y + vec_waterz * blending.z;\n    vec4 vec_sand = vec_sandx * blending.x + vec_sandy * blending.y + vec_sandz * blending.z;\n    vec4 vec_grass = vec_grassx * blending.x + vec_grassy * blending.y + vec_grassz * blending.z;\n    vec4 vec_stone = vec_stonex * blending.x + vec_stoney * blending.y + vec_stonez * blending.z;\n    vec4 vec_snow = vec_snowx * blending.x + vec_snowy * blending.y + vec_snowz * blending.z;\n\n    float vMax = roughness * radius;\n    float offset = length(vNewPosition) - radius;\n    vec4 color = vec_water;// begin with water everywhere\n    color = mix(vec_sand, color, smoothstep(vMax*0.035, vMax*0.025, offset));\n    color = mix(vec_grass, color, smoothstep(vMax*0.29, vMax*0.035, offset));\n    color = mix(vec_stone, color, smoothstep(vMax*0.423, vMax*0.29, offset));\n    color = mix(vec_snow, color, smoothstep(vMax, vMax*0.423, offset));\n\n    // simpliest hardcoded lighting\n    float c = max(0.1, dot(vNormal, lightDirection))* lightIntensity;\n    gl_FragColor = vec4(color.r*c, color.g*c, color.b*c, 1.0)*lightColor;\n}\n"},"6CdQ":function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 4D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 fade(vec4 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec4 P)\n{\n  vec4 Pi0 = floor(P); // Integer part for indexing\n  vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec4 Pf0 = fract(P); // Fractional part for interpolation\n  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = vec4(Pi0.zzzz);\n  vec4 iz1 = vec4(Pi1.zzzz);\n  vec4 iw0 = vec4(Pi0.wwww);\n  vec4 iw1 = vec4(Pi1.wwww);\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n  vec4 ixy00 = permute(ixy0 + iw0);\n  vec4 ixy01 = permute(ixy0 + iw1);\n  vec4 ixy10 = permute(ixy1 + iw0);\n  vec4 ixy11 = permute(ixy1 + iw1);\n\n  vec4 gx00 = ixy00 * (1.0 / 7.0);\n  vec4 gy00 = floor(gx00) * (1.0 / 7.0);\n  vec4 gz00 = floor(gy00) * (1.0 / 6.0);\n  gx00 = fract(gx00) - 0.5;\n  gy00 = fract(gy00) - 0.5;\n  gz00 = fract(gz00) - 0.5;\n  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n  vec4 sw00 = step(gw00, vec4(0.0));\n  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\n  vec4 gx01 = ixy01 * (1.0 / 7.0);\n  vec4 gy01 = floor(gx01) * (1.0 / 7.0);\n  vec4 gz01 = floor(gy01) * (1.0 / 6.0);\n  gx01 = fract(gx01) - 0.5;\n  gy01 = fract(gy01) - 0.5;\n  gz01 = fract(gz01) - 0.5;\n  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n  vec4 sw01 = step(gw01, vec4(0.0));\n  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\n  vec4 gx10 = ixy10 * (1.0 / 7.0);\n  vec4 gy10 = floor(gx10) * (1.0 / 7.0);\n  vec4 gz10 = floor(gy10) * (1.0 / 6.0);\n  gx10 = fract(gx10) - 0.5;\n  gy10 = fract(gy10) - 0.5;\n  gz10 = fract(gz10) - 0.5;\n  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n  vec4 sw10 = step(gw10, vec4(0.0));\n  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\n  vec4 gx11 = ixy11 * (1.0 / 7.0);\n  vec4 gy11 = floor(gx11) * (1.0 / 7.0);\n  vec4 gz11 = floor(gy11) * (1.0 / 6.0);\n  gx11 = fract(gx11) - 0.5;\n  gy11 = fract(gy11) - 0.5;\n  gz11 = fract(gz11) - 0.5;\n  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n  vec4 sw11 = step(gw11, vec4(0.0));\n  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\n  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\n  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n  g0000 *= norm00.x;\n  g0100 *= norm00.y;\n  g1000 *= norm00.z;\n  g1100 *= norm00.w;\n\n  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n  g0001 *= norm01.x;\n  g0101 *= norm01.y;\n  g1001 *= norm01.z;\n  g1101 *= norm01.w;\n\n  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n  g0010 *= norm10.x;\n  g0110 *= norm10.y;\n  g1010 *= norm10.z;\n  g1110 *= norm10.w;\n\n  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n  g0011 *= norm11.x;\n  g0111 *= norm11.y;\n  g1011 *= norm11.z;\n  g1111 *= norm11.w;\n\n  float n0000 = dot(g0000, Pf0);\n  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n  float n1111 = dot(g1111, Pf1);\n\n  vec4 fade_xyzw = fade(Pf0);\n  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n  return 2.2 * n_xyzw;\n}\n\nuniform sampler2D biomeMap;\nuniform sampler2D heightMap;\nuniform sampler2D moistureMap;\nuniform float waterLevel;\nuniform vec3 waterColor;\n\nvarying vec2 vUv;\n\nvoid main() {\n    float x = vUv.x;\n    float y = vUv.y;\n\n    float n1 = texture2D(heightMap, vec2(x, y)).r;\n    float n2 = texture2D(moistureMap, vec2(x, y)).r;\n\n    vec4 color = texture2D(biomeMap, vec2(n2, n1));\n\n    vec4 water = vec4(waterColor, 1.0);\n\n    if (n1 < waterLevel) {\n        color = mix(water, color, 0.3);\n    }\n\n    float coastLevel = waterLevel * 0.90;\n    if (n1 < waterLevel && n1 > 0.4) {\n        vec4 coast = vec4(vec3(1.0), 1.0);\n        float amount = 1.0 - ((0.5 - n1) * 10.0);\n        color = mix(color, coast, amount*0.3);\n    }\n\n    gl_FragColor = color;\n}\n'},"7txM":function(e,n){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},CcrY:function(e,n){e.exports="data:image/jpeg;base64,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"},DJ6x:function(e,n){e.exports="data:image/jpeg;base64,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"},Gsp3:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 4D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 fade(vec4 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise, periodic version\nfloat pnoise(vec4 P, vec4 rep)\n{\n  vec4 Pi0 = mod(floor(P), rep); // Integer part modulo rep\n  vec4 Pi1 = mod(Pi0 + 1.0, rep); // Integer part + 1 mod rep\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec4 Pf0 = fract(P); // Fractional part for interpolation\n  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = vec4(Pi0.zzzz);\n  vec4 iz1 = vec4(Pi1.zzzz);\n  vec4 iw0 = vec4(Pi0.wwww);\n  vec4 iw1 = vec4(Pi1.wwww);\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n  vec4 ixy00 = permute(ixy0 + iw0);\n  vec4 ixy01 = permute(ixy0 + iw1);\n  vec4 ixy10 = permute(ixy1 + iw0);\n  vec4 ixy11 = permute(ixy1 + iw1);\n\n  vec4 gx00 = ixy00 * (1.0 / 7.0);\n  vec4 gy00 = floor(gx00) * (1.0 / 7.0);\n  vec4 gz00 = floor(gy00) * (1.0 / 6.0);\n  gx00 = fract(gx00) - 0.5;\n  gy00 = fract(gy00) - 0.5;\n  gz00 = fract(gz00) - 0.5;\n  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n  vec4 sw00 = step(gw00, vec4(0.0));\n  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\n  vec4 gx01 = ixy01 * (1.0 / 7.0);\n  vec4 gy01 = floor(gx01) * (1.0 / 7.0);\n  vec4 gz01 = floor(gy01) * (1.0 / 6.0);\n  gx01 = fract(gx01) - 0.5;\n  gy01 = fract(gy01) - 0.5;\n  gz01 = fract(gz01) - 0.5;\n  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n  vec4 sw01 = step(gw01, vec4(0.0));\n  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\n  vec4 gx10 = ixy10 * (1.0 / 7.0);\n  vec4 gy10 = floor(gx10) * (1.0 / 7.0);\n  vec4 gz10 = floor(gy10) * (1.0 / 6.0);\n  gx10 = fract(gx10) - 0.5;\n  gy10 = fract(gy10) - 0.5;\n  gz10 = fract(gz10) - 0.5;\n  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n  vec4 sw10 = step(gw10, vec4(0.0));\n  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\n  vec4 gx11 = ixy11 * (1.0 / 7.0);\n  vec4 gy11 = floor(gx11) * (1.0 / 7.0);\n  vec4 gz11 = floor(gy11) * (1.0 / 6.0);\n  gx11 = fract(gx11) - 0.5;\n  gy11 = fract(gy11) - 0.5;\n  gz11 = fract(gz11) - 0.5;\n  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n  vec4 sw11 = step(gw11, vec4(0.0));\n  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\n  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\n  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n  g0000 *= norm00.x;\n  g0100 *= norm00.y;\n  g1000 *= norm00.z;\n  g1100 *= norm00.w;\n\n  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n  g0001 *= norm01.x;\n  g0101 *= norm01.y;\n  g1001 *= norm01.z;\n  g1101 *= norm01.w;\n\n  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n  g0010 *= norm10.x;\n  g0110 *= norm10.y;\n  g1010 *= norm10.z;\n  g1110 *= norm10.w;\n\n  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n  g0011 *= norm11.x;\n  g0111 *= norm11.y;\n  g1011 *= norm11.z;\n  g1111 *= norm11.w;\n\n  float n0000 = dot(g0000, Pf0);\n  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n  float n1111 = dot(g1111, Pf1);\n\n  vec4 fade_xyzw = fade(Pf0);\n  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n  return 2.2 * n_xyzw;\n}\n\nuniform float time;\nuniform float atmo1;\nuniform float atmo2;\nuniform float atmo3;\nuniform float atmo4;\nuniform float atmo5;\nuniform float alpha;\nuniform vec3 color;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 cameraVector;\n\nvoid main() {\n    vec3 newColor = vec3(0.0);\n\n    const float ambient = 0.1;\n    vec3 light = vec3(-1.0, 1.0, 1.0);\n    light = normalize(light);\n    float directional = max(dot(vNormal, light), 0.0) * 1.0;\n    vec4 texelColor = vec4((directional + ambient) * newColor, 0.0);\n\n    // gl_FragColor = texelColor;\n    // gl_FragColor = vec4(1.0);\n\n    ////////////////////////////\n    // atmospheric scattering\n    ///////////////////////////\n\n    // float PI = 3.14159265358979323846264;\n    // // light = light - vPosition;\n    // vec3 cameraDir = normalize(cameraVector);\n    //\n    // // vec3 newNormal = bumpNormal(normalMap, vUv);\n    // vec3 newNormal = vNormal;\n    //\n    // light = normalize(light);\n    //\n    // float lightAngle = max(0.0, dot(newNormal, light));\n    // float viewAngle = max(0.0, dot(vNormal, cameraDir));\n    // float adjustedLightAngle = min(0.6, lightAngle) / 0.6;\n    // float adjustedViewAngle = min(0.65, viewAngle) / 0.65;\n    // float invertedViewAngle = pow(acos(viewAngle), 3.0) * 0.4;\n    //\n    // float dProd = 0.0;\n    // dProd += atmo1 * lightAngle;\n    // dProd += atmo2 * lightAngle * (invertedViewAngle - atmo5);\n    // dProd += invertedViewAngle * 1.5 * (max(-0.35, dot(vNormal, light)) + 0.35);\n    // dProd *= atmo3 + pow(invertedViewAngle/(PI/2.0), 2.0);\n    //\n    // dProd *= atmo4;\n    // vec4 atmColor = vec4(color, dProd);\n    //\n    // // texelColor = texture2D(map, vUv) * min(asin(lightAngle), 1.0);\n    // // texelColor = newColor * min(asin(lightAngle), 1.0);\n    //\n    // gl_FragColor = texelColor + min(atmColor, alpha);\n\n    /////////////////////////\n\n    float PI = 3.14159265358979323846264;\n    // light = light - vPosition;\n    vec3 cameraDir = normalize(cameraVector);\n\n    // vec3 newNormal = bumpNormal(normalMap, vUv);\n    vec3 newNormal = vNormal;\n\n    light = normalize(light);\n\n    float lightAngle = max(0.0, dot(newNormal, light));\n    float viewAngle = max(0.0, dot(vNormal, cameraDir));\n    float adjustedLightAngle = min(0.6, lightAngle) / 0.6;\n    float adjustedViewAngle = min(0.65, viewAngle) / 0.65;\n    float invertedViewAngle = pow(acos(viewAngle), 3.0) * 0.4;\n\n    float dProd = 0.0;\n    dProd += atmo1 * lightAngle;\n    dProd += atmo2 * lightAngle * (invertedViewAngle - atmo5);\n    dProd += invertedViewAngle * 1.5 * (max(-0.35, dot(vNormal, light)) + 0.35);\n    dProd *= atmo3 + pow(invertedViewAngle/(PI/2.0), 2.0);\n\n    dProd *= atmo4;\n\n    vec4 atmColor = vec4(color, dProd);\n\n    // texelColor = texture2D(map, vUv) * min(asin(lightAngle), 1.0);\n    // texelColor = newColor * min(asin(lightAngle), 1.0);\n\n    gl_FragColor = texelColor + min(atmColor, alpha);\n}\n'},"Jy+Z":function(e,n,t){e.exports=t.p+"assets/textures/water_normals2.jpg"},NbV9:function(e,n,t){e.exports=t.p+"assets/textures/moon.png"},OUBw:function(e,n){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 lightPosition;\nuniform vec4 lightColor;\nuniform float lightIntensity;\nuniform float time;\n\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 vPosition01;\nvarying vec3 lightDirection;\n\nvoid main(void) {\n    vUv = uv;\n    vPosition01 = normalize(position)/2.0 + vec3(0.5, 0.5, 0.5);\n    vPosition = position;\n    lightDirection = normalize(lightPosition - vPosition);\n    vNormal = normal;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},PP0w:function(e,n){e.exports="#define GLSLIFY 1\n// Source: http://jsfiddle.net/VsWb9/770/\n\n//\n// Atmospheric scattering fragment shader\n//\n// Author: Sean O'Neil\n//\n// Copyright (c) 2004 Sean O'Neil\n//\n\nuniform vec3 v3LightPosition;\nuniform float g;\nuniform float g2;\n\nvarying vec3 v3Direction;\nvarying vec3 c0;\nvarying vec3 c1;\n\n// Calculates the Mie phase function\nfloat getMiePhase(float fCos, float fCos2)\n{\n    return 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + fCos2) / pow(1.0 + g2 - 2.0 * g * fCos, 1.5);\n}\n\n// Calculates the Rayleigh phase function\nfloat getRayleighPhase(float fCos2)\n{\n    return 0.75 + 0.75 * fCos2;\n}\n\nvoid main (void)\n{\n    float fCos = dot(v3LightPosition, v3Direction) / length(v3Direction);\n    float fCos2 = fCos * fCos;\n\n    vec3 color =  getRayleighPhase(fCos2) * c0 + getMiePhase(fCos, fCos2) * c1;\n\n    gl_FragColor = vec4(color, 1.0);\n    //    gl_FragColor.a = gl_FragColor.b;\n}\n"},Qn61:function(e,n,t){e.exports=t.p+"assets/textures/sand2.jpg"},RWZA:function(e,n,t){e.exports=t.p+"assets/textures/snow2.jpg"},SQyz:function(e,n){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},UmO4:function(e,n,t){e.exports=t.p+"assets/textures/water1.jpg"},VWZf:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nconst float PI = 3.14159265359;\n\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\nuniform int ridgesType;\n\nvarying vec2 vUv;\n\nconst int octaves = 16;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\nfloat simplexRidged(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    n = (n + 1.0) * 0.5;\n    n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    return (n + 1.0) * 0.5;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplex(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // increase contrast\n    n = ((n - 0.5) * 2.0) + 0.5;\n\n    return n;\n}\n\nfloat ridgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = pow(n, 4.0);\n    return n;\n}\n\nfloat invRidgedNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = pow(n, 4.0);\n    n = 1.0 - n;\n\n    return n;\n}\n\nfloat cloud(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // n = sin(n*4.0 * cos(n*2.0));\n    n = sin(n*5.0);\n    // n = abs(sin(n*5.0));\n    // n = 1.0 - n;\n\n    n = n*0.5 + 0.5;\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat cloudNoise(vec3 pos, float frq, float seed) {\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  cloud(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n\n    n = 1.0-n;\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    float sub1, sub2, sub3, n;\n\n    float resMod = 1.0;// overall res magnification\n    float resMod2 = mixScale;// minimum res mod\n\n    if (ridgesType == 0) {\n        sub1 = cloudNoise(sphericalCoord, res1*resMod, seed+11.437);\n        sub2 = cloudNoise(sphericalCoord, res2*resMod, seed+93.483);\n        sub3 = cloudNoise(sphericalCoord, resMix*resMod, seed+23.675);\n        n = cloudNoise(sphericalCoord + vec3((sub1/sub3)*0.1), resMod2+sub2, seed+78.236);\n    }\n    else if (ridgesType == 1) {\n        sub1 = ridgedNoise(sphericalCoord, res1*resMod, seed+83.706);\n        sub2 = ridgedNoise(sphericalCoord, res2*resMod, seed+29.358);\n        sub3 = ridgedNoise(sphericalCoord, resMix*resMod, seed+53.041);\n        n = ridgedNoise(sphericalCoord + vec3((sub1/sub3)*0.1), resMod2+sub2, seed+34.982);\n    }\n    else if (ridgesType == 2) {\n        sub1 = invRidgedNoise(sphericalCoord, res1*resMod, seed+49.684);\n        sub2 = invRidgedNoise(sphericalCoord, res2*resMod, seed+136.276);\n        sub3 = invRidgedNoise(sphericalCoord, resMix*resMod, seed+3.587);\n        n = invRidgedNoise(sphericalCoord + vec3((sub1/sub3)*0.1), resMod2+sub2, seed+33.321);\n    }\n    else {\n        sub1 = baseNoise(sphericalCoord, res1*resMod, seed+52.284);\n        sub2 = baseNoise(sphericalCoord, res2*resMod, seed+137.863);\n        sub3 = baseNoise(sphericalCoord, resMix*resMod, seed+37.241);\n        float alpha = sub1*3.14*2.0;\n        float beta = sub2*3.14*2.0;\n        float fx = cos(alpha)*cos(beta);\n        float fz = sin(alpha)*cos(beta);\n        float fy = sin(beta);\n        n = baseNoise(sphericalCoord + (vec3(fx, fy, fz) * sub3), 1.0, seed+28.634);\n    }\n\n    gl_FragColor = vec4(vec3(n), 1.0);\n}\n'},WcgB:function(e,n,t){e.exports=t.p+"assets/textures/water_normals1.jpg"},a6jw:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 4D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-08-22\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 fade(vec4 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec4 P)\n{\n  vec4 Pi0 = floor(P); // Integer part for indexing\n  vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec4 Pf0 = fract(P); // Fractional part for interpolation\n  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = vec4(Pi0.zzzz);\n  vec4 iz1 = vec4(Pi1.zzzz);\n  vec4 iw0 = vec4(Pi0.wwww);\n  vec4 iw1 = vec4(Pi1.wwww);\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n  vec4 ixy00 = permute(ixy0 + iw0);\n  vec4 ixy01 = permute(ixy0 + iw1);\n  vec4 ixy10 = permute(ixy1 + iw0);\n  vec4 ixy11 = permute(ixy1 + iw1);\n\n  vec4 gx00 = ixy00 * (1.0 / 7.0);\n  vec4 gy00 = floor(gx00) * (1.0 / 7.0);\n  vec4 gz00 = floor(gy00) * (1.0 / 6.0);\n  gx00 = fract(gx00) - 0.5;\n  gy00 = fract(gy00) - 0.5;\n  gz00 = fract(gz00) - 0.5;\n  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n  vec4 sw00 = step(gw00, vec4(0.0));\n  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\n  vec4 gx01 = ixy01 * (1.0 / 7.0);\n  vec4 gy01 = floor(gx01) * (1.0 / 7.0);\n  vec4 gz01 = floor(gy01) * (1.0 / 6.0);\n  gx01 = fract(gx01) - 0.5;\n  gy01 = fract(gy01) - 0.5;\n  gz01 = fract(gz01) - 0.5;\n  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n  vec4 sw01 = step(gw01, vec4(0.0));\n  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\n  vec4 gx10 = ixy10 * (1.0 / 7.0);\n  vec4 gy10 = floor(gx10) * (1.0 / 7.0);\n  vec4 gz10 = floor(gy10) * (1.0 / 6.0);\n  gx10 = fract(gx10) - 0.5;\n  gy10 = fract(gy10) - 0.5;\n  gz10 = fract(gz10) - 0.5;\n  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n  vec4 sw10 = step(gw10, vec4(0.0));\n  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\n  vec4 gx11 = ixy11 * (1.0 / 7.0);\n  vec4 gy11 = floor(gx11) * (1.0 / 7.0);\n  vec4 gz11 = floor(gy11) * (1.0 / 6.0);\n  gx11 = fract(gx11) - 0.5;\n  gy11 = fract(gy11) - 0.5;\n  gz11 = fract(gz11) - 0.5;\n  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n  vec4 sw11 = step(gw11, vec4(0.0));\n  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\n  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\n  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n  g0000 *= norm00.x;\n  g0100 *= norm00.y;\n  g1000 *= norm00.z;\n  g1100 *= norm00.w;\n\n  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n  g0001 *= norm01.x;\n  g0101 *= norm01.y;\n  g1001 *= norm01.z;\n  g1101 *= norm01.w;\n\n  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n  g0010 *= norm10.x;\n  g0110 *= norm10.y;\n  g1010 *= norm10.z;\n  g1110 *= norm10.w;\n\n  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n  g0011 *= norm11.x;\n  g0111 *= norm11.y;\n  g1011 *= norm11.z;\n  g1111 *= norm11.w;\n\n  float n0000 = dot(g0000, Pf0);\n  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n  float n1111 = dot(g1111, Pf1);\n\n  vec4 fade_xyzw = fade(Pf0);\n  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n  return 2.2 * n_xyzw;\n}\n\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\n\nvarying vec2 vUv;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\n// float simplexRidged(vec3 pos, float seed) {\n// \tfloat n = noise(vec4(pos, seed));\n// \tn = (n + 1.0) * 0.5;\n// \tn = 2.0 * (0.5 - abs(0.5 - n));\n// \treturn n;\n// }\n\nfloat simplexRidged(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    // n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    n = abs(n);\n    return n;\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    // return (n + 1.0) * 0.5;\n    n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n        // amp *= 2.0;\n    }\n\n    // n = fract(n*10.0);\n    // n *= abs(sin(pos.y*10.0));\n    // n += 0.4;\n\n    // increase contrast\n    n = ((n - 0.5) * 2.0) + 0.6;\n\n    // n = pow(n, 3.0);\n    // n = pow( (1.0-n), 2.0);\n    // n = pow(n, 2.0);\n\n    // n = 1.0-n;\n    // n = pow(n, 6.0);\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat ridgedNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, 2.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n\n    n = 1.0-n;\n    n = pow(n, 6.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat billowNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplexRidged(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    n = 1.0-n;\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat cloud(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    // n = sin(n*4.0 * cos(n*2.0));\n    n = sin(n*3.0);\n\n    n = n*0.5 + 0.5;\n\n    // n = abs(n);\n    // n = 1.0-n;\n    // n = n*1.2;\n    // n = 1.0-n;\n\n    return n;\n}\n\nfloat cloudNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 32;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  cloud(vec3(pos.x*gain/frq, 1.0*pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // n = pow(n, 5.0);\n\n    n = 1.0-n;\n    // n = pow(n, mixScale);\n    n = pow(n, 1.0);\n    n = 1.0-n;\n\n    return n;\n}\n\nfloat perlin(vec3 pos, float seed) {\n    float n = cnoise(vec4(pos, seed));\n    n = (n + 1.0) * 0.5;\n    return n;\n}\n\nfloat perlinNoise(vec3 pos, float frq, float seed) {\n\n    const int octaves = 16;\n    float n = 0.0;\n    float amplitude = 0.7;\n\n    for (int i = 0; i < octaves; ++i) {\n        n += amplitude * perlin(pos*frq, seed);\n        frq *= 2.0;// lacunarity = 2.0\n        amplitude *= n;// gain = 0.5\n    }\n\n    n = pow(n, 2.0);\n\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    /////////////////\n    float sub1 = baseNoise(sphericalCoord, 0.5, seed);\n    float sub1b = billowNoise(sphericalCoord, 1.0, seed+93.386);\n    float n1 = baseNoise(sphericalCoord + vec3(sub1*0.3), 0.5, seed+38.378);\n\n    float sub2 = baseNoise(sphericalCoord, 0.5, seed+12.412);\n    float n2 = baseNoise(sphericalCoord + vec3(sub2*0.3), 0.5+sub1b, seed+58.578);\n\n    n1 = 1.0-n1;\n    n1 *= 0.1;\n    n1 = 1.0-n1;\n\n    n2 = 1.0-n2;\n    n2 = pow(n2, 5.0);\n    n2 *= 0.314;\n    n2 = 1.0-n2;\n    n2 = pow(n2, 5.0);\n\n    gl_FragColor = vec4(vec3(n1), n2);\n    ///////////////////\n\n    // float sub1 = perlinNoise(sphericalCoord, 1.0, seed);\n    // float n1 = billowNoise(sphericalCoord + vec3(sub1*0.1), 0.5, seed+38.378);\n    //\n    // gl_FragColor = vec4(vec3(n1), n1);\n}\n'},aZBE:function(e,n,t){e.exports=t.p+"assets/textures/stone2.jpg"},e6Wu:function(e,n,t){"use strict";t.r(n),function(e){t("SYky"),t("hZTp");var n=t("uPvV"),o=t.n(n),r=t("qIj2");e.THREE=t("Womt"),window.addEventListener("load",(function(){var e={container:document.getElementById("canvas-container")};if(null===e.container){var n=document.createElement("div");n.setAttribute("class","container"),n.setAttribute("id","canvas-container"),document.body.appendChild(n),e.container=n}if(o.a.isWebGLAvailable()){var t=new r.a(e);t.init(),t.animate()}else e.container.appendChild(o.a.getWebGLErrorMessage())}))}.call(this,t("yLpj"))},hZTp:function(e,n,t){},k2iR:function(e,n){e.exports="#define GLSLIFY 1\nuniform float resolution;\nuniform float waterLevel;\nuniform sampler2D heightMap;\nuniform sampler2D textureMap;\n\nvarying vec2 vUv;\n\nfloat getBrightness(vec4 color) {\n    float bright = 1.0 - (0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n    // if (bright > 0.6) {\n    // \tbright *= 0.3;\n    // }\n    return bright;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = vUv.y;\n    // float x = gl_FragCoord.x / 1024.0;\n    // float y = gl_FragCoord.y / 1024.0;\n    float pixelSize = 1.0 / resolution;\n\n    // Value from trial & error.\n    // Seems to work fine for the scales we are dealing with.\n    // float strength = scale.Y / 16;\n    float strength = 0.8;\n\n    float level = texture2D(heightMap, vec2(x, y)).r;\n    float water = waterLevel;\n    // float mod = 1.0;\n    // if (level < water) {\n    // \tmod = 0.1;\n    // }\n\n    float tl = getBrightness(texture2D(textureMap, vec2(x-pixelSize, y-pixelSize)));\n    float l = getBrightness(texture2D(textureMap, vec2(x-pixelSize, y)));\n    float bl = getBrightness(texture2D(textureMap, vec2(x-pixelSize, y+pixelSize)));\n    float b = getBrightness(texture2D(textureMap, vec2(x, y+pixelSize)));\n    float br = getBrightness(texture2D(textureMap, vec2(x+pixelSize, y+pixelSize)));\n    float r = getBrightness(texture2D(textureMap, vec2(x+pixelSize, y)));\n    float tr = getBrightness(texture2D(textureMap, vec2(x+pixelSize, y-pixelSize)));\n    float t = getBrightness(texture2D(textureMap, vec2(x, y-pixelSize)));\n\n    float tl2 = getBrightness(texture2D(heightMap, vec2(x-pixelSize, y-pixelSize)));\n    float l2 = getBrightness(texture2D(heightMap, vec2(x-pixelSize, y)));\n    float bl2 = getBrightness(texture2D(heightMap, vec2(x-pixelSize, y+pixelSize)));\n    float b2 = getBrightness(texture2D(heightMap, vec2(x, y+pixelSize)));\n    float br2 = getBrightness(texture2D(heightMap, vec2(x+pixelSize, y+pixelSize)));\n    float r2 = getBrightness(texture2D(heightMap, vec2(x+pixelSize, y)));\n    float tr2 = getBrightness(texture2D(heightMap, vec2(x+pixelSize, y-pixelSize)));\n    float t2 = getBrightness(texture2D(heightMap, vec2(x, y-pixelSize)));\n\n    float ratio = 1.0;\n\n    if (level > water) {\n        float diff = water - level;\n        ratio = 1.0 - (diff*1.0);\n    }\n\n    tl = mix(tl, tl2, ratio);\n    l = mix(l, l2, ratio);\n    bl = mix(bl, bl2, ratio);\n    b = mix(b, b2, ratio);\n    br = mix(br, br2, ratio);\n    r = mix(r, r2, ratio);\n    tr = mix(tr, tr2, ratio);\n    t = mix(t, t2, ratio);\n\n    // float level = getBrightness(texture2D(heightMap, vec2(x, y)));\n\n    // smooth out the normal map for the water\n    float factor = 0.01;\n    float depth = 0.5;\n    if (level < water) {\n        // strength = 0.00;\n        tl = mix(depth, tl, factor);\n        l = mix(depth, l, factor);\n        bl = mix(depth, bl, factor);\n        b = mix(depth, b, factor);\n        br = mix(depth, br, factor);\n        r = mix(depth, r, factor);\n        tr = mix(depth, tr, factor);\n        t = mix(depth, t, factor);\n    }\n\n    // Compute dx using Sobel:\n    //           -1 0 1\n    //           -2 0 2\n    //           -1 0 1\n    float dX = tr + 2.0 * r + br - tl - 2.0 * l - bl;\n\n    // Compute dy using Sobel:\n    //           -1 -2 -1\n    //            0  0  0\n    //            1  2  1\n    float dY = bl + 2.0 * b + br - tl - 2.0 * t - tr;\n\n    vec3 N = vec3(dX, dY, 1.0 / strength);\n\n    //\n    // if (level < 0.5) {\n    // \tN.x = 0.5;\n    // \tN.y = 0.5;\n    // \tN.z = -0.5;\n    //\n    // }\n    normalize(N);\n\n    //convert (-1.0 , 1.0) to (0.0 , 1.0), if necessary\n    //Vector3 scale = new Vector3(0.5f, 0.5f, 0.5f);\n    //Vector3.Multiply(ref N, ref scale, out N);\n    //Vector3.Add(ref N, ref scale, out N);\n\n    N = N * 0.5 + 0.5;\n\n    gl_FragColor = vec4(N, 1.0);\n}\n"},kvsF:function(e,n){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 lightPosition;\nuniform vec4 lightColor;\nuniform float lightIntensity;\nuniform float seed;\n\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 vPosition01;\nvarying vec3 lightDirection;\n\nvoid main(void)\n{\n    float reflect = pow(0.8 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 8.0);\n    float a = max(0.0, dot(vNormal, lightDirection))*lightIntensity*1.5;\n    vec4 color = vec4(0.078, 0.227, 0.341, 0.9);\n    gl_FragColor = color * reflect * a;\n}\n"},l8Vw:function(e,n){e.exports="#define GLSLIFY 1\nuniform float resolution;\nuniform sampler2D heightMap;\nuniform float waterLevel;\n\nvarying vec2 vUv;\n\nfloat getBrightness(vec4 color) {\n    return 1.0 - (0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = vUv.y;\n\n    float pixelSize = 1.0 / resolution;\n\n    float n = texture2D(heightMap, vec2(x, y)).r;\n    float roughness = 0.0;\n\n    if (n < waterLevel) {\n        roughness = 0.45;\n    } else {\n        roughness = 0.85;\n    }\n\n    gl_FragColor = vec4(vec3(roughness), 1.0);\n}\n"},oMeY:function(e,n){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texWater;\nuniform float radius;\nuniform vec3 lightPosition;\nuniform vec4 lightColor;\nuniform float lightIntensity;\nuniform float time;\nuniform float seed;\n\nvarying vec2 vUv;\nvarying vec3 vPosition01;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec3 lightDirection;\n\nfloat random(vec3 p) {\n    return fract(sin(dot(p.xyz, vec3(12.9898, 78.233, 1.23456))) * (5356.5453+ seed*1234.7582));\n}\n\nvec4 getNormal(vec2 uv, float speed) {\n    float scaleFactor = 0.06;\n    float sint = sin(time*speed)*scaleFactor/2.0;\n    float cost = cos(time*speed)*scaleFactor/3.0;\n\n    float x1 = uv.x + sint;\n    float y1 = uv.y + cost;\n\n    float x2 = uv.x - sint;\n    float y2 = uv.y - cost;\n\n    float x3 = uv.x - sint;\n    float y3 = uv.y + cost;\n\n    float x4 = uv.x + sint;\n    float y4 = uv.y - cost;\n\n    vec4 normal = texture2D(texWater, vec2(x1, y2)) + texture2D(texWater, vec2(x2, y2)) +\n    texture2D(texWater, vec2(x3, y3)) + texture2D(texWater, vec2(x4, y4));\n    normal.xyz = normal.xyz/3.74;\n    return normal;\n}\n\nvoid main(void) {\n    vec3 blending = abs(vNormal);\n    blending = (blending - 0.2) * 3.14 * random(vNormal);\n    blending = max(blending, 0.0);// Force weights to sum to 1.0\n    float b = (blending.x + blending.y + blending.z);\n    blending /= vec3(b, b, b);\n\n    vec4 vec_texx = getNormal(vPosition01.yz, 30.0);\n    vec4 vec_texy = getNormal(vPosition01.xz, 32.0);\n    vec4 vec_texz = getNormal(vPosition01.xy, 34.0);\n\n    vec4 normalTex = vec_texx * blending.x + vec_texy * blending.y + vec_texz * blending.z;\n\n    float a = max(0.27, dot(((normalTex.rgb*2.0-1.0)+vNormal)/2.0, lightDirection));\n\n    vec4 color = vec4(0.0, 0.35, 0.471, 1.0);\n    color.xyz = color.xyz*lightIntensity;\n\n    vec4 finalColor = lightColor*color*a;\n\n    gl_FragColor = vec4(finalColor.xyz, 0.75);\n}\n"},q79D:function(e,n){e.exports="data:image/jpeg;base64,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"},qIj2:function(e,n,t){"use strict";var o=t("bMjy"),r=t.n(o),a=t("4S22"),i=t.n(a),s=t("WTlQ"),c=t.n(s),l=t("YSVl"),u=t.n(l),f=t("ILOl"),d=t.n(f),h=t("/HZK"),p=t("Fu16"),v=t("Womt"),g=t("nPuz"),y=t.n(g),m=t("iZKT"),x=t("MZFn");function w(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.base=document.createElement("div"),this.base.id="loadingBarHolder",this.base.innerHTML='Rendering</br><div id="loadingBarBase"><div id="loadingBar"></div></div>'}var n,t,o;return n=e,(t=[{key:"update",value:function(e){this.bar=document.getElementById("loadingBar"),this.bar&&(this.bar.style.width=100*e+"%")}},{key:"show",value:function(){document.body.appendChild(this.base),this.bar=document.getElementById("loadingBar"),this.bar&&(this.bar.style.width="0%")}},{key:"hide",value:function(){document.body.removeChild(this.base)}}])&&w(n.prototype,t),o&&w(n,o),e}();function z(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var P=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=[],this.callbacks=[],this.skipFrame=!1,this.lastTime=0,this.totalActions=0,this.loadingBar=new b}var n,t,o;return n=e,(t=[{key:"start",value:function(){this.startFrame=!0,this.lastTime=Date.now(),this.loadingBar.show()}},{key:"finish",value:function(){this.addCallback((function(){}))}},{key:"update",value:function(){!1===this.startFrame?this.actions.length>0?this.doNextAction():this.checkCallbacks():(this.startFrame=!1,this.totalActions=this.actions.length)}},{key:"doNextAction",value:function(){var e=Date.now();this.lastTime,this.lastTime=e,this.actions[0](),this.actions.shift();var n=this.actions.length/this.totalActions;n=1-n,this.loadingBar.update(n)}},{key:"addAction",value:function(e){this.actions.push(e)}},{key:"addCallback",value:function(e){this.callbacks.push(e)}},{key:"checkCallbacks",value:function(){this.callbacks.length>0&&this.executeCallbacks()}},{key:"executeCallbacks",value:function(){for(var e=0;e<this.callbacks.length;++e)this.callbacks[e]();this.loadingBar.hide(),this.callbacks=[]}}])&&z(n.prototype,t),o&&z(n,o),e}();function S(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function C(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var R=function(){function e(){var n=this;S(this,e),this.renderQueue=new P,window.renderQueue=this.renderQueue,this.stats=new x,this.stats.setMode(0),document.body.appendChild(this.stats.domElement),this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="10px",this.stats.domElement.style.top="0px",this._scene=new v.Scene,this._camera=new v.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e5),this._camera.position.z=2800,this._camera.lookAt(new v.Vector3(0,0,0)),window.camera=this._camera,this._renderer=new v.WebGLRenderer({antialias:!1,alpha:!0}),this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.sortObjects=!1,this._renderer.setSize(window.innerWidth,window.innerHeight),window.renderer=this._renderer,document.body.appendChild(this._renderer.domElement),this.ambientLight=new v.AmbientLight(16777215,.1),this._scene.add(this.ambientLight),this.directionalLight=new v.DirectionalLight(16777215,1.6),this.directionalLight.position.set(-1,1,1),this._scene.add(this.directionalLight),window.light=this.directionalLight,this._controls=new y.a(this._camera,this._renderer.domElement),this._controls.enabled=!0,this._controls.enableDamping=!0,this._controls.dampingFactor=.1,this._controls.rotateSpeed=.1,this._controls.autoRotate=!0,this._controls.autoRotateSpeed=.02,this._controls.zoomSpeed=.5,this._controls.enableZoom=!0,this.gui=new m.a,window.gui=this.gui,this._createControls(),this.gui.open(),window.addEventListener("resize",this.onWindowResize.bind(this),!1),window.addEventListener("keydown",(function(e){n.onKeyDown(e)}),!1)}var n,t,o;return n=e,(t=[{key:"init",value:function(){}},{key:"update",value:function(){}},{key:"_createControls",value:function(){var e=this,n=this.gui.addFolder("Lighting");this.sunColor={r:255,g:255,b:255},n.addColor(this,"sunColor").onChange((function(n){e.directionalLight.color.r=e.sunColor.r/255,e.directionalLight.color.g=e.sunColor.g/255,e.directionalLight.color.b=e.sunColor.b/255})),n.add(this.directionalLight,"intensity",0,3),this.ambientColor={r:255,g:255,b:255},n.addColor(this,"ambientColor").onChange((function(n){e.ambientLight.color.r=e.ambientColor.r/255,e.ambientLight.color.g=e.ambientColor.g/255,e.ambientLight.color.b=e.ambientColor.b/255})),n.add(this.ambientLight,"intensity",0,2);var t=this.gui.addFolder("Camera");t.add(this._controls,"autoRotate").name("rotate"),t.add(this._camera.position,"x").name("Camera X").min(-1e4).max(1e4).step(.5),t.add(this._camera.position,"y").name("Camera Y").min(-1e4).max(1e4).step(.5),t.add(this._camera.position,"z").name("Camera Z").min(-1e4).max(1e4).step(.5),t.add(this._camera,"fov",20,120).onChange((function(n){e._camera.updateProjectionMatrix()}))}},{key:"renderer",get:function(){return this._renderer}},{key:"camera",get:function(){return this._camera}},{key:"scene",get:function(){return this._scene}},{key:"onKeyDown",value:function(e){if("72"===e.keyCode){var n=document.getElementById("brandTag"),t=document.getElementById("infoBoxHolder");"hidden"===n.style.visibility?(n.style.visibility="visible",t.style.visibility="visible"):(n.style.visibility="hidden",t.style.visibility="hidden")}}},{key:"onWindowResize",value:function(){this._camera.aspect=window.innerWidth/window.innerHeight,this._camera.updateProjectionMatrix(),this._renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"animate",value:function(e){this.stats.begin(),this._controls.update(),this._renderer.render(this._scene,this._camera),window.renderQueue.update(),this.update(),requestAnimationFrame(this.animate.bind(this)),this.stats.end()}}])&&C(n.prototype,t),o&&C(n,o),e}();function M(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var E=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=n,this.prop=t}var n,t,o;return n=e,(t=[{key:"color",get:function(){return"#".concat(this.object[this.prop].getHexString())},set:function(e){this.object[this.prop].set(e)}}])&&M(n.prototype,t),o&&M(n,o),e}();function O(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function j(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var F=function(){function e(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"200px",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas";O(this,e),this.canvas=document.createElement(r),this.canvas.id=n,this.canvas.width=t,this.canvas.height=t,this.canvas.style.width=o,this.canvas.style.height=o,this.width=this.canvas.width,this.height=this.canvas.height,this.ctx=this.canvas.getContext("2d"),this.texture=new v.CanvasTexture(this.canvas),document.body.appendChild(this.canvas),this.visibleCanvas(!1)}var n,t,o;return n=e,(t=[{key:"generateTexture",value:function(e){}},{key:"visibleCanvas",value:function(e){this.canvas.style.display=e?"block":"none"}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000";this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"toCanvasColor",value:function(e){return"rgba("+Math.round(255*e.r)+", "+Math.round(255*e.g)+", "+Math.round(255*e.b)+", 1.0)"}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"mix",value:function(e,n,t){return e+(n-e)*t}}])&&j(n.prototype,t),o&&j(n,o),e}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,n){return(B=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function K(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=L(e);if(n){var r=L(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return A(this,t)}}function A(e,n){return!n||"object"!==k(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&B(e,n)}(a,e);var n,t,o,r=K(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,"biomeCanvas",512,"200px")}return n=a,(t=[{key:"generateTexture",value:function(e){this.waterLevel=e.waterLevel;var n=this.randRange(0,1),t=this.randRange(0,.7),o=this.randRange(0,.6);this.baseColor=(new v.Color).setHSL(n,t,o),this.colorAngle=this.randRange(.2,.4),this.saturationRange=this.randRange(.3,.5),this.lightnessRange=this.randRange(.3,.5),this.circleSize=this.randRange(30,250),this.drawBase(),this.drawCircles(),this.drawDetail(),this.drawInland(),this.drawBeach(),this.drawWater(),this.texture=new v.CanvasTexture(this.canvas)}},{key:"drawCircles",value:function(){for(var e=Math.round(this.randRange(50,150)),n=0;n<e;++n)this.randomGradientCircle()}},{key:"drawBase",value:function(){this.fillBaseColor();for(var e=Math.round(this.randRange(5,20)),n=0;n<e;++n){var t=this.randRange(0,this.width),o=this.randRange(0,this.height),r=this.randRange(0,this.width),a=this.randRange(0,this.height),i=Math.abs(r-t),s=Math.abs(a-o);this.randomGradientRect(0,0,this.width,this.height),this.randomGradientRect(t,o,i,s)}}},{key:"drawDetail",value:function(){for(var e=Math.round(this.randRange(5,45)),n=0;n<e;++n){var t=this.randRange(0,this.width),o=this.randRange(0,this.height),r=this.randRange(0,this.width),a=this.randRange(0,this.height),i=Math.abs(r-t),s=Math.abs(a-o);this.randomGradientStrip(0,0,this.width,this.height),this.randomGradientStrip(t,o,i,s)}}},{key:"drawRivers",value:function(){var e=this.randomColor();this.ctx.strokeStyle="rgba("+e.r+", "+e.g+", "+e.b+", 0.5)";for(var n=this.randRange(0,this.width),t=this.randRange(0,this.height),o=n,r=t,a=Math.round(this.randRange(15,75)),i=0;i<a;++i)n=this.randRange(0,this.width),t=this.randRange(0,this.height),this.ctx.moveTo(o,r),this.ctx.lineTo(n,t),this.ctx.stroke(),o=n,r=t}},{key:"randomCircle",value:function(){var e=this.randRange(0,this.width),n=this.randRange(0,this.height),t=this.randRange(2,15),o=this.randomColor();this.ctx.fillStyle="rgba("+o.r+", "+o.g+", "+o.b+", 0.5)",this.ctx.beginPath(),this.ctx.arc(e,n,t,0,2*Math.PI),this.ctx.fill()}},{key:"randomGradientStrip",value:function(e,n,t,o){var r=this.randRange(0,this.width),a=this.randRange(0,this.height),i=this.randRange(0,this.width),s=this.randRange(0,this.height),c=this.ctx.createLinearGradient(r,a,i,s),l=this.randomColor();c.addColorStop(this.randRange(0,.5),"rgba("+l.r+", "+l.g+", "+l.b+", 0.0)"),c.addColorStop(.5,"rgba("+l.r+", "+l.g+", "+l.b+", 0.8)"),c.addColorStop(this.randRange(.5,1),"rgba("+l.r+", "+l.g+", "+l.b+", 0.0)"),this.ctx.fillStyle=c,this.ctx.fillRect(e,n,t,o)}},{key:"blackWhiteGradient",value:function(){var e=this.width,n=this.height,t=this.ctx.createLinearGradient(0,0,e,n);t.addColorStop(0,"rgba(255, 255, 255, 1.0)"),t.addColorStop(1,"rgba(0, 0, 0, 1.0)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"fillBaseColor",value:function(){this.ctx.fillStyle=this.toCanvasColor(this.baseColor),this.ctx.fillRect(0,0,this.width,this.height)}},{key:"randomGradientRect",value:function(e,n,t,o){var r=this.randRange(0,this.width),a=this.randRange(0,this.height),i=this.randRange(0,this.width),s=this.randRange(0,this.height),c=this.ctx.createLinearGradient(r,a,i,s),l=this.randomColor();c.addColorStop(0,"rgba("+l.r+", "+l.g+", "+l.b+", 0.0)"),c.addColorStop(1,"rgba("+l.r+", "+l.g+", "+l.b+", 1.0)"),this.ctx.fillStyle=c,this.ctx.fillRect(e,n,t,o)}},{key:"drawWater",value:function(){var e=this.height-this.height*this.waterLevel,n=this.height,t=this.ctx.createLinearGradient(0,e,0,n),o=this.randomWaterColor();t.addColorStop(0,"rgba("+Math.round(1.3*o.r)+", "+Math.round(1.3*o.g)+", "+Math.round(1.3*o.b)+", 0.9)"),t.addColorStop(.2,"rgba("+Math.round(1*o.r)+", "+Math.round(1*o.g)+", "+Math.round(1*o.b)+", 0.9)"),t.addColorStop(.8,"rgba("+Math.round(.7*o.r)+", "+Math.round(.7*o.g)+", "+Math.round(.7*o.b)+", 0.9)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,e,this.width,this.height)}},{key:"drawBeach",value:function(){var e=Math.round(this.randRange(5,12)),n=this.height-this.height*this.waterLevel-e,t=this.height-this.height*this.waterLevel,o=this.ctx.createLinearGradient(0,n,0,t),r=this.randomColor();o.addColorStop(0,"rgba("+Math.round(1*r.r)+", "+Math.round(1*r.g)+", "+Math.round(1*r.b)+", 0)"),o.addColorStop(1,"rgba("+Math.round(1*r.r)+", "+Math.round(1*r.g)+", "+Math.round(1*r.b)+", 0.3)"),this.ctx.fillStyle=o,this.ctx.fillRect(0,n,this.width,e)}},{key:"drawInland",value:function(){var e=Math.round(this.randRange(75,125)),n=this.height-this.height*this.waterLevel-e,t=this.height-this.height*this.waterLevel,o=this.ctx.createLinearGradient(0,n,0,t),r=this.randomColor();o.addColorStop(0,"rgba("+Math.round(1*r.r)+", "+Math.round(1*r.g)+", "+Math.round(1*r.b)+", 0)"),o.addColorStop(1,"rgba("+Math.round(1*r.r)+", "+Math.round(1*r.g)+", "+Math.round(1*r.b)+", 0.5)"),this.ctx.fillStyle=o,this.ctx.fillRect(0,n,this.width,e)}},{key:"randomGradientCircle",value:function(){var e=this.randRange(0,this.width),n=this.randRange(0,this.height)-this.height*this.waterLevel,t=e,o=n,r=this.randRange(10,this.circleSize),a=this.ctx.createRadialGradient(e,n,0,t,o,r),i=this.randomColor();a.addColorStop(0,"rgba("+i.r+", "+i.g+", "+i.b+", 1.0)"),a.addColorStop(1,"rgba("+i.r+", "+i.g+", "+i.b+", 0.0)"),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"randomWaterColor",value:function(){var e=this.baseColor.clone(),n=0,t=this.randRange(0,1);n=t<.33?0+this.randRange(-.1,.1):t<.66?this.colorAngle+this.randRange(-.1,.1):-this.colorAngle+this.randRange(-.1,.1);var o=e.getHSL();return o.h+=n,o.s=this.randRange(0,.6),o.l=this.randRange(.1,.4),e.setHSL(o.h,o.s,o.l),{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b)}}},{key:"randomColor",value:function(){var e=this.baseColor.clone(),n=0,t=this.randRange(0,1);n=t<.33?0+this.randRange(-.1,.1):t<.66?this.colorAngle+this.randRange(-.1,.1):-this.colorAngle+this.randRange(-.1,.1);var o=this.randRange(-this.saturationRange,this.saturationRange),r=this.randRange(-this.lightnessRange,this.lightnessRange),a=e.getHSL();return a.h+=n,a.s+=o,a.l+=r,a.l<0&&(a.l=.3*Math.abs(a.l)),e.setHSL(a.h,a.s,a.l),{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b)}}}])&&T(n.prototype,t),o&&T(n,o),a}(F),D=t("qRcc"),N=t.n(D),G=t("Gsp3"),q=t.n(G);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function U(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,n){return(_=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function W(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Y(e);if(n){var r=Y(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Q(this,t)}}function Q(e,n){return!n||"object"!==H(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_(e,n)}(a,e);var n,t,o,r=W(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1010;return V(this,a),(e=r.call(this)).radius=n,e.time=0,e.params={visible:!0,speed:.1,color:new v.Color(65535),opacity:.31,atmo1:.5,atmo2:.5,atmo3:1,atmo4:.25,atmo5:.01},e.material=new v.ShaderMaterial({uniforms:{time:{type:"f",value:e.time},atmo1:{type:"f",value:e.params.atmo1},atmo2:{type:"f",value:e.params.atmo2},atmo3:{type:"f",value:e.params.atmo3},atmo4:{type:"f",value:e.params.atmo4},atmo5:{type:"f",value:e.params.atmo5},alpha:{type:"f",value:e.params.opacity},color:{type:"c",value:e.params.color}},vertexShader:N.a,fragmentShader:q.a,transparent:!0,blending:v.AdditiveBlending}),e.geometry=new v.IcosahedronBufferGeometry(e.radius,6),e.sphere=new v.Mesh(e.geometry,e.material),e.add(e.sphere),e.createControls(),e}return n=a,(t=[{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("Atmosphere");n.add(this.params,"visible").onChange((function(n){e.sphere.visible=n})),n.addColor(new E(this.params,"color"),"color").listen().onChange((function(n){e.updateMaterial()})),n.add(this.params,"opacity",0,1).step(.01).listen().onChange((function(n){e.updateMaterial()}));for(var t=["atmo1","atmo2","atmo3","atmo4","atmo5"],o=0;o<t.length;++o)n.add(this.params,t[o],0,3).step(.01).listen().onChange((function(n){e.updateMaterial()}))}},{key:"update",value:function(){this.time+=this.params.speed}},{key:"updateMaterial",value:function(){this.material.uniforms.time.value=this.time,this.material.uniforms.atmo1.value=this.params.atmo1,this.material.uniforms.atmo2.value=this.params.atmo2,this.material.uniforms.atmo3.value=this.params.atmo3,this.material.uniforms.atmo4.value=this.params.atmo4,this.material.uniforms.atmo5.value=this.params.atmo5,this.material.uniforms.alpha.value=this.params.opacity,this.material.uniforms.color.value=this.params.color}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"randomizeColor",value:function(){this.params.color.setRGB(this.randRange(.5,1),this.randRange(.5,1),this.randRange(.5,1)),this.updateMaterial()}},{key:"randomize",value:function(){this.params.atmo1=this.randRange(0,1),this.params.atmo2=this.randRange(0,1),this.params.atmo3=this.randRange(0,1),this.params.atmo4=this.randRange(0,1),this.params.atmo5=this.randRange(.1,2),this.randomizeColor()}}])&&U(n.prototype,t),o&&U(n,o),a}(v.Object3D);function Z(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var X=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.materials=[],this.maps=[],this.textures=[],this.textureCameras=[],this.textureScenes=[],this.planes=[],this.geometries=[],this.setupMaterials();for(var n=0;n<6;++n)this.textures.push(new v.WebGLRenderTarget(1024,1024,{minFilter:v.LinearFilter,magFilter:v.LinearFilter,format:v.RGBAFormat})),this.textureCameras.push(new v.OrthographicCamera(-512,512,512,-512,-100,100)),this.textureCameras[n].position.z=10,this.textureScenes.push(new v.Scene),this.geometries.push(new v.PlaneGeometry(1,1)),this.planes.push(new v.Mesh(this.geometries[n],this.materials[n])),this.planes[n].position.z=-10,this.textureScenes[n].add(this.planes[n]),this.maps.push(this.textures[n].texture)}var n,t,o;return n=e,(t=[{key:"visible",value:function(e){for(var n=0;n<6;++n)this.geometries[n]=e}},{key:"setupMaterials",value:function(){}},{key:"updateMaterials",value:function(e){}},{key:"render",value:function(e){var n=this;this.updateMaterials(e);for(var t=e.resolution,o=function(e){window.renderQueue.addAction((function(){n.textures[e].setSize(t,t),n.textures[e].needsUpdate=!0,n.textureCameras[e].left=-t/2,n.textureCameras[e].right=t/2,n.textureCameras[e].top=t/2,n.textureCameras[e].bottom=-t/2,n.textureCameras[e].updateProjectionMatrix(),n.geometries[e]&&n.geometries[e].dispose(),n.geometries[e]=new v.PlaneGeometry(t,t),n.planes[e].geometry=n.geometries[e],window.renderer.render(n.textureScenes[e],n.textureCameras[e],n.textures[e],!0)}))},r=0;r<6;++r)o(r)}}])&&Z(n.prototype,t),o&&Z(n,o),e}(),$=t("7txM"),ee=t.n($),ne=t("VWZf"),te=t.n(ne);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,n){return(ae=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ie(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=ce(e);if(n){var r=ce(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return se(this,t)}}function se(e,n){return!n||"object"!==oe(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ae(e,n)}(a,e);var n,t,o,r=ie(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"setupMaterials",value:function(){this.materials=[];for(var e=0;e<6;++e)this.materials.push(new v.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0},ridgesType:{type:"i",value:0}},vertexShader:ee.a,fragmentShader:te.a,transparent:!0,depthWrite:!1}))}},{key:"updateMaterials",value:function(e){for(var n=0;n<6;++n)this.materials[n].uniforms.seed.value=e.seed,this.materials[n].uniforms.resolution.value=e.resolution,this.materials[n].uniforms.res1.value=e.res1,this.materials[n].uniforms.res2.value=e.res2,this.materials[n].uniforms.resMix.value=e.resMix,this.materials[n].uniforms.mixScale.value=e.mixScale,this.materials[n].uniforms.ridgesType.value=e.ridgesType,this.materials[n].needsUpdate=!0}}])&&re(n.prototype,t),o&&re(n,o),a}(X),ue=t("6CdQ"),fe=t.n(ue);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pe(e,n){return(pe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ve(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=ye(e);if(n){var r=ye(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return ge(this,t)}}function ge(e,n){return!n||"object"!==de(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pe(e,n)}(a,e);var n,t,o,r=ve(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"setupMaterials",value:function(){this.materials=[];for(var e=0;e<6;++e)this.materials.push(new v.ShaderMaterial({uniforms:{biomeMap:{type:"t",value:new v.Texture},heightMap:{type:"t",value:new v.Texture},moistureMap:{type:"t",value:new v.Texture},waterLevel:{type:"f",value:0},waterColor:{type:"c",value:new v.Color(0,.4,.9)}},vertexShader:ee.a,fragmentShader:fe.a,transparent:!0,depthWrite:!1}))}},{key:"updateMaterials",value:function(e){for(var n=0;n<6;++n)this.materials[n].uniforms.heightMap.value=e.heightMaps[n],this.materials[n].uniforms.moistureMap.value=e.moistureMaps[n],this.materials[n].uniforms.biomeMap.value=e.biomeMap,this.materials[n].uniforms.waterLevel.value=e.waterLevel,this.materials[n].uniforms.waterColor.value=e.waterColor,this.materials[n].needsUpdate=!0}}])&&he(n.prototype,t),o&&he(n,o),a}(X),xe=t("SQyz"),we=t.n(xe),be=t("k2iR"),ze=t.n(be);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ce(e,n){return(Ce=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Re(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Ee(e);if(n){var r=Ee(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Me(this,t)}}function Me(e,n){return!n||"object"!==Pe(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ce(e,n)}(a,e);var n,t,o,r=Re(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"setupMaterials",value:function(){this.materials=[];for(var e=0;e<6;++e)this.materials.push(new v.ShaderMaterial({uniforms:{resolution:{type:"f",value:0},waterLevel:{type:"f",value:0},heightMap:{type:"t",value:new v.Texture},textureMap:{type:"t",value:new v.Texture}},vertexShader:we.a,fragmentShader:ze.a,transparent:!0,depthWrite:!1}))}},{key:"updateMaterials",value:function(e){for(var n=0;n<6;++n)this.materials[n].uniforms.resolution.value=e.resolution,this.materials[n].uniforms.waterLevel.value=e.waterLevel,this.materials[n].uniforms.heightMap.value=e.heightMaps[n],this.materials[n].uniforms.textureMap.value=e.textureMaps[n],this.materials[n].needsUpdate=!0}}])&&Se(n.prototype,t),o&&Se(n,o),a}(X),je=t("l8Vw"),Fe=t.n(je);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Be(e,n){return(Be=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ke(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Le(e);if(n){var r=Le(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Ae(this,t)}}function Ae(e,n){return!n||"object"!==ke(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Be(e,n)}(a,e);var n,t,o,r=Ke(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"setupMaterials",value:function(){this.materials=[];for(var e=0;e<6;++e)this.materials.push(new v.ShaderMaterial({uniforms:{resolution:{type:"f",value:0},waterLevel:{type:"f",value:0},heightMap:{type:"t",value:new v.Texture}},vertexShader:ee.a,fragmentShader:Fe.a,transparent:!0,depthWrite:!1}))}},{key:"updateMaterials",value:function(e){for(var n=0;n<6;++n)this.materials[n].uniforms.resolution.value=e.resolution,this.materials[n].uniforms.waterLevel.value=e.waterLevel,this.materials[n].uniforms.heightMap.value=e.heightMaps[n],this.materials[n].needsUpdate=!0}}])&&Te(n.prototype,t),o&&Te(n,o),a}(X),De=t("a6jw"),Ne=t.n(De);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e,n){return(He=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ve(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=_e(e);if(n){var r=_e(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Ue(this,t)}}function Ue(e,n){return!n||"object"!==Ge(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&He(e,n)}(a,e);var n,t,o,r=Ve(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"setupMaterials",value:function(){this.materials=[];for(var e=0;e<6;++e)this.materials.push(new v.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0}},vertexShader:ee.a,fragmentShader:Ne.a,transparent:!0,depthWrite:!1}))}},{key:"updateMaterials",value:function(e){for(var n=0;n<6;++n)this.materials[n].uniforms.seed.value=e.seed,this.materials[n].uniforms.resolution.value=e.resolution,this.materials[n].uniforms.res1.value=e.res1,this.materials[n].uniforms.res2.value=e.res2,this.materials[n].uniforms.resMix.value=e.resMix,this.materials[n].uniforms.mixScale.value=e.mixScale,this.materials[n].needsUpdate=!0}}])&&qe(n.prototype,t),o&&qe(n,o),a}(X);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Je(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ze(e,n){return(Ze=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Xe(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=en(e);if(n){var r=en(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return $e(this,t)}}function $e(e,n){return!n||"object"!==Qe(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ze(e,n)}(a,e);var n,t,o,r=Xe(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1005;Ye(this,a),(e=r.call(this)).radius=n,e.resolution=1024,e.params={visible:!0,rotate:!0,rotationSpeed:9e-4,color:new v.Color(16777215),opacity:1,roughness:.9,metalness:.5,bumpScale:1},e.cloudMap=new We,e.cloudMaps=e.cloudMap.maps,e.materials=[];for(var t=0;t<6;++t)e.materials.push(new v.MeshStandardMaterial({color:e.params.color,transparent:!0,roughness:e.params.roughness,metalness:e.params.metalness,opacity:e.params.opacity,bumpScale:e.params.bumpScale}));for(var o in e.geometry=new v.BoxGeometry(1,1,1,64,64,64),e.geometry.vertices)e.geometry.vertices[o].normalize().multiplyScalar(e.radius);return e.computeGeometry(e.geometry),e.sphere=new v.Mesh(e.geometry,e.materials),e.add(e.sphere),e.createControls(),e}return n=a,(t=[{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("Clouds");n.add(this.params,"visible").onChange((function(n){e.sphere.visible=n})),n.add(this.params,"rotate"),n.add(this.params,"rotationSpeed",-.02,.02);for(var t=["opacity","roughness","bumpScale"],o=0;o<t.length;++o)n.add(this.params,t[o],0,1).step(.001).listen().onChange((function(n){e.updateMaterial()}));n.addColor(new E(this.params,"color"),"color").listen().onChange((function(n){e.updateMaterial()}))}},{key:"update",value:function(){this.params.rotate&&(this.rotation.y+=this.params.rotationSpeed,this.rotation.z+=1e-4)}},{key:"render",value:function(e){this.seed=this.randRange(0,1e3),this.updateMaterial(),this.cloudMap.render({seed:this.seed,resolution:this.resolution,res1:this.randRange(.1,1),res2:this.randRange(.1,1),resMix:this.randRange(.1,1),mixScale:this.randRange(.1,1)})}},{key:"map_range",value:function(e,n,t,o,r){return o+(r-o)*(e-n)/(t-n)}},{key:"updateMaterial",value:function(){for(var e=0;e<6;++e){var n=this.materials[e];n.roughness=this.params.roughness,n.metalness=this.params.metalness,n.opacity=this.params.opacity,n.bumpScale=this.params.bumpScale,n.color=this.params.color,n.map=this.cloudMaps[e],n.alphaMap=this.cloudMaps[e],n.bumpMap=this.cloudMaps[e]}}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"randomizeColor",value:function(){this.params.color.setRGB(this.randRange(.5,1),this.randRange(.5,1),this.randRange(.5,1)),this.updateMaterial()}},{key:"randomize",value:function(){this.params.opacity=this.randRange(.25,1),this.randomizeColor()}},{key:"computeGeometry",value:function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.groupsNeedUpdate=!0}}])&&Je(n.prototype,t),o&&Je(n,o),a}(v.Object3D),tn=t("uEp1"),on=t.n(tn),rn=t("uxjU"),an=t.n(rn);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ln(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function un(e,n){return(un=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function fn(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=hn(e);if(n){var r=hn(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return dn(this,t)}}function dn(e,n){return!n||"object"!==sn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&un(e,n)}(a,e);var n,t,o,r=fn(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1030;return cn(this,a),(e=r.call(this)).radius=n,e.params={visible:!0,color:new v.Color(5636095),glow:1,c:.41,p:.53},e.material=new v.ShaderMaterial({uniforms:{c:{type:"f",value:e.params.c},p:{type:"f",value:e.params.p},glowColor:{type:"c",value:e.params.color},viewVector:{type:"v3",value:new v.Vector3(window.camera.position)}},vertexShader:on.a,fragmentShader:an.a}),e.material.transparent=!0,e.material.blending=v.AdditiveBlending,e.material.side=v.BackSide,e.geometry=new v.IcosahedronBufferGeometry(e.radius,6),e.sphere=new v.Mesh(e.geometry,e.material),e.add(e.sphere),e.createControls(),e}return n=a,(t=[{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("Glow");n.add(this.params,"visible").onChange((function(n){e.sphere.visible=n})),n.add(this.params,"glow",0,1).step(.01).listen().onChange((function(n){e.updateMaterial()})),n.addColor(new E(this.params,"color"),"color").listen().onChange((function(n){e.updateMaterial()})),n.add(this.params,"c",0,1).step(.01).listen().onChange((function(n){e.updateMaterial()})),n.add(this.params,"p",0,1).step(.01).listen().onChange((function(n){e.updateMaterial()}))}},{key:"update",value:function(){this.material.uniforms.viewVector.value.subVectors(window.camera.position,this.sphere.position)}},{key:"updateMaterial",value:function(){this.material.uniforms.c.value=this.params.c,this.material.uniforms.p.value=this.params.p,this.material.uniforms.glowColor.value=this.params.color}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"randomizeColor",value:function(){this.params.color.setRGB(this.randRange(.2,.8),this.randRange(.2,.8),this.randRange(.2,.8)),this.updateMaterial()}},{key:"randomize",value:function(){this.params.glow=this.randRange(.25,1),this.params.c=this.randRange(.4,1),this.params.p=this.randRange(.4,1),this.randomizeColor()}}])&&ln(n.prototype,t),o&&ln(n,o),a}(v.Object3D),vn=t("10kV"),gn=t.n(vn),yn=t("PP0w"),mn=t.n(yn);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bn(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zn(e,n){return(zn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Pn(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Cn(e);if(n){var r=Cn(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Sn(this,t)}}function Sn(e,n){return!n||"object"!==xn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&zn(e,n)}(a,e);var n,t,o,r=Pn(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1030;return wn(this,a),(e=r.call(this)).radius=n,e.params={visible:!0,color:new v.Color(.65,.57,.475),Kr:.0025,Km:.001,ESun:20,g:-.95,innerRadius:1e3,outerRadius:e.radius,scaleDepth:.25,mieScaleDepth:.1},e.material=new v.ShaderMaterial({uniforms:{v3LightPosition:{type:"v3",value:new v.Vector3(window.light.position.x,window.light.position.y,window.light.position.z).multiplyScalar(n)},v3InvWavelength:{type:"v3",value:new v.Vector3(1/Math.pow(e.params.color.r,4),1/Math.pow(e.params.color.g,4),1/Math.pow(e.params.color.b,4))},fInnerRadius:{type:"f",value:e.params.innerRadius},fOuterRadius:{type:"f",value:e.params.outerRadius},fKrESun:{type:"f",value:e.params.Kr*e.params.ESun},fKmESun:{type:"f",value:e.params.Km*e.params.ESun},fKr4PI:{type:"f",value:4*e.params.Kr*Math.PI},fKm4PI:{type:"f",value:4*e.params.Km*Math.PI},fScale:{type:"f",value:1/(e.params.outerRadius-e.params.innerRadius)},fScaleDepth:{type:"f",value:e.params.scaleDepth},fScaleOverScaleDepth:{type:"f",value:1/(e.params.outerRadius-e.params.innerRadius)/e.params.scaleDepth},g:{type:"f",value:e.params.g},g2:{type:"f",value:e.params.g*e.params.g},fCameraHeight:{type:"f",value:window.camera.position.length()}},vertexShader:gn.a,fragmentShader:mn.a,transparent:!0,side:v.BackSide,blending:v.AdditiveBlending}),e.geometry=new v.IcosahedronGeometry(e.radius,6),e.sphere=new v.Mesh(e.geometry,e.material),e.add(e.sphere),e.createControls(),e}return n=a,(t=[{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("Atmosphere Ring");n.add(this.params,"visible").onChange((function(n){e.sphere.visible=n})),n.addColor(new E(this.params,"color"),"color").listen().onChange((function(n){e.updateMaterial()}));for(var t=["Kr","Km","scaleDepth","mieScaleDepth"],o=0;o<t.length;++o)n.add(this.params,t[o],0,1).step(.001).listen().onChange((function(n){e.updateMaterial()}));n.add(this.params,"g",-1,1).step(.001).listen().onChange((function(n){e.updateMaterial()})),n.add(this.params,"ESun",-2e3,2e3).listen().onChange((function(n){e.updateMaterial()}))}},{key:"update",value:function(){}},{key:"updateMaterial",value:function(){this.material.uniforms.v3InvWavelength.value.set(1/Math.pow(this.params.color.r,4),1/Math.pow(this.params.color.g,4),1/Math.pow(this.params.color.b,4)),this.material.uniforms.fKrESun.value=this.params.Kr*this.params.ESun,this.material.uniforms.fKmESun.value=this.params.Km*this.params.ESun,this.material.uniforms.fKr4PI.value=4*this.params.Kr*Math.PI,this.material.uniforms.fKm4PI.value=4*this.params.Km*Math.PI,this.material.uniforms.fScaleDepth.value=this.params.scaleDepth,this.material.uniforms.fScaleOverScaleDepth.value=1/(this.params.outerRadius-this.params.innerRadius)/this.params.scaleDepth,this.material.uniforms.g.value=this.params.g,this.material.uniforms.g2.value=this.params.g*this.params.g,this.material.uniforms.fCameraHeight.value=window.camera.position.length()}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"randomizeColor",value:function(){this.params.color.setRGB(this.randRange(.3,1),this.randRange(.3,1),this.randRange(.3,1)),this.updateMaterial()}},{key:"randomize",value:function(){this.params.Kr=this.randRange(.01,1),this.params.Km=this.randRange(.01,1),this.params.scaleDepth=this.randRange(0,1),this.params.mieScaleDepth=this.randRange(.01,1),this.params.g=this.randRange(-1,1),this.params.ESun=this.randRange(-100,100),this.randomizeColor()}}])&&bn(n.prototype,t),o&&bn(n,o),a}(v.Object3D);function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function On(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jn(e,n){return(jn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Fn(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Tn(e);if(n){var r=Tn(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return kn(this,t)}}function kn(e,n){return!n||"object"!==Mn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bn=new v.Color(0,.4,.9),Kn=(v.Object3D,t("zTiM")),An=t.n(Kn);function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dn(e,n){return(Dn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Nn(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=qn(e);if(n){var r=qn(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Gn(this,t)}}function Gn(e,n){return!n||"object"!==Ln(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Dn(e,n)}(a,e);var n,t,o,r=Nn(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"setupMaterials",value:function(){this.materials=[];for(var e=0;e<6;++e)this.materials.push(new v.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0},nebulaMap:{type:"t",value:new v.Texture}},vertexShader:ee.a,fragmentShader:An.a,transparent:!0,depthWrite:!1}))}},{key:"updateMaterials",value:function(e){for(var n=0;n<6;++n)this.materials[n].uniforms.seed.value=e.seed,this.materials[n].uniforms.resolution.value=e.resolution,this.materials[n].uniforms.res1.value=e.res1,this.materials[n].uniforms.res2.value=e.res2,this.materials[n].uniforms.resMix.value=e.resMix,this.materials[n].uniforms.mixScale.value=e.mixScale,this.materials[n].uniforms.nebulaMap.value=e.nebulaMap,this.materials[n].needsUpdate=!0}}])&&In(n.prototype,t),o&&In(n,o),a}(X);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _n(e,n){return(_n=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Wn(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Yn(e);if(n){var r=Yn(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Qn(this,t)}}function Qn(e,n){return!n||"object"!==Vn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_n(e,n)}(a,e);var n,t,o,r=Wn(a);function a(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this)).resolution=1024,e.radius=5e4,e.params={visible:!0,rotate:!0,rotationSpeed:3e-4,res1:e.randRange(.5,2),res2:e.randRange(.5,2),resMix:e.randRange(.5,2),mixScale:e.randRange(.5,2),opacity:1},e.starMap=new Hn,e.starMaps=e.starMap.maps,e.materials=[];for(var n=0;n<6;++n)e.materials.push(new v.MeshBasicMaterial({color:new v.Color(16777215),side:v.BackSide}));for(var t in e.geometry=new v.BoxGeometry(1,1,1,32,32,32),e.geometry.vertices)e.geometry.vertices[t].normalize().multiplyScalar(e.radius);return e.computeGeometry(e.geometry),e.sphere=new v.Mesh(e.geometry,e.materials),e.add(e.sphere),e.createControls(),e}return n=a,(t=[{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("Stars");n.add(this.params,"visible").onChange((function(n){e.sphere.visible=n})),n.add(this.params,"rotate"),n.add(this.params,"rotationSpeed",-.01,.01);for(var t=["res1","res2","resMix","mixScale"],o=0;o<t.length;++o)n.add(this.params,t[o],.5,2).step(.001).listen().onChange((function(n){e.updateMaterial()}))}},{key:"update",value:function(){this.params.rotate&&(this.rotation.y+=this.params.rotationSpeed)}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"render",value:function(e){this.seed=this.randRange(0,1e3),this.updateMaterial(),this.starMap.render({seed:this.seed,resolution:this.resolution,res1:this.params.res1,res2:this.params.res2,resMix:this.params.resMix,mixScale:this.params.mixScale,nebulaMap:e.nebulaMap})}},{key:"updateMaterial",value:function(){for(var e=0;e<6;++e)this.materials[e].map=this.starMaps[e]}},{key:"computeGeometry",value:function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.groupsNeedUpdate=!0}}])&&Un(n.prototype,t),o&&Un(n,o),a}(v.Object3D),Zn=t("/HNH"),Xn=t.n(Zn);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nt(e,n){return(nt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function tt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=rt(e);if(n){var r=rt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return ot(this,t)}}function ot(e,n){return!n||"object"!==$n(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&nt(e,n)}(a,e);var n,t,o,r=tt(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"setupMaterials",value:function(){this.materials=[];for(var e=0;e<6;++e)this.materials.push(new v.ShaderMaterial({uniforms:{index:{type:"i",value:e},seed:{type:"f",value:0},resolution:{type:"f",value:0},res1:{type:"f",value:0},res2:{type:"f",value:0},resMix:{type:"f",value:0},mixScale:{type:"f",value:0},nebulaMap:{type:"t",value:new v.Texture}},vertexShader:ee.a,fragmentShader:Xn.a,transparent:!0,depthWrite:!1}))}},{key:"updateMaterials",value:function(e){for(var n=0;n<6;++n)this.materials[n].uniforms.seed.value=e.seed,this.materials[n].uniforms.resolution.value=e.resolution,this.materials[n].uniforms.res1.value=e.res1,this.materials[n].uniforms.res2.value=e.res2,this.materials[n].uniforms.resMix.value=e.resMix,this.materials[n].uniforms.mixScale.value=e.mixScale,this.materials[n].uniforms.nebulaMap.value=e.nebulaMap,this.materials[n].needsUpdate=!0}}])&&et(n.prototype,t),o&&et(n,o),a}(X);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ct(e,n){return(ct=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function lt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=ft(e);if(n){var r=ft(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return ut(this,t)}}function ut(e,n){return!n||"object"!==it(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ct(e,n)}(a,e);var n,t,o,r=lt(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,"nebulaeCanvas",512,"200px")}return n=a,(t=[{key:"generateTexture",value:function(e){var n=this.randRange(0,1),t=this.randRange(.2,.8),o=this.randRange(.2,.6);this.baseColor=(new v.Color).setHSL(n,t,o),this.colorAngle=this.randRange(0,.5),this.fillBaseColor(),this.drawShapes(),this.texture=new v.CanvasTexture(this.canvas)}},{key:"visibleCanvas",value:function(e){this.canvas.style.display=e?"block":"none"}},{key:"fillBaseColor",value:function(){this.ctx.fillStyle=this.toCanvasColor(this.baseColor),this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawShapes",value:function(){for(var e=Math.round(this.randRange(20,70)),n=0;n<e;++n)this.randomGradientCircle()}},{key:"randomGradientCircle",value:function(){var e=this.randRange(0,this.width),n=this.randRange(0,this.height),t=e,o=n,r=this.randRange(100,200),a=this.ctx.createRadialGradient(e,n,0,t,o,r),i=this.randomColor();a.addColorStop(0,"rgba("+i.r+", "+i.g+", "+i.b+", 1.0)"),a.addColorStop(1,"rgba("+i.r+", "+i.g+", "+i.b+", 0.0)"),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"randomColor",value:function(){var e=this.baseColor.clone(),n=0,t=this.randRange(0,1);n=t<.33?0+this.randRange(-.1,.1):t<.66?this.colorAngle+this.randRange(-.1,.1):-this.colorAngle+this.randRange(-.1,.1);var o=this.randRange(-.4,.2),r=this.randRange(-.4,.2);return e.offsetHSL(n,o,r),{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b)}}}])&&st(n.prototype,t),o&&st(n,o),a}(F);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vt(e,n){return(vt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function gt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=mt(e);if(n){var r=mt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return yt(this,t)}}function yt(e,n){return!n||"object"!==ht(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&vt(e,n)}(a,e);var n,t,o,r=gt(a);function a(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this)).resolution=1024,e.radius=45e3,e.params={visible:!0,rotate:!0,rotationSpeed:2e-4,wireframe:!1,res1:e.randRange(1,3),res2:e.randRange(1,3),resMix:e.randRange(1,3),mixScale:e.randRange(1,3),opacity:1,showTextureMap:!1},e.nebulaTexture=new dt,e.skyMap=new at,e.skyMaps=e.skyMap.maps,e.materials=[];for(var n=0;n<6;++n)e.materials.push(new v.MeshBasicMaterial({color:new v.Color(16777215),side:v.BackSide,transparent:!0,opacity:e.params.opacity,wireframe:e.params.wireframe}));for(var t in e.geometry=new v.BoxGeometry(1,1,1,64,64,64),e.geometry.vertices)e.geometry.vertices[t].normalize().multiplyScalar(e.radius);return e.computeGeometry(e.geometry),e.sphere=new v.Mesh(e.geometry,e.materials),e.add(e.sphere),e.createControls(),e}return n=a,(t=[{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("Nebula");n.add(this.params,"visible").onChange((function(n){e.sphere.visible=n})),n.add(this.params,"rotate"),n.add(this.params,"rotationSpeed",-.01,.01),n.add(this.params,"opacity",0,1).step(.01).listen().onChange((function(n){e.updateMaterial()})),n.add(this.params,"wireframe").onChange((function(n){e.updateMaterial()}));for(var t=["res1","res2","resMix","mixScale"],o=0;o<t.length;++o)n.add(this.params,t[o],1,3).step(.001).listen().onChange((function(n){e.updateMaterial()}));n.add(this.params,"showTextureMap").onChange((function(n){e.nebulaTexture&&e.nebulaTexture.visibleCanvas(n)}))}},{key:"update",value:function(){this.params.rotate&&(this.rotation.y+=this.params.rotationSpeed)}},{key:"generateTexture",value:function(){this.nebulaTexture.generateTexture({})}},{key:"render",value:function(){this.generateTexture(),this.seed=this.randRange(0,1e3),this.updateMaterial(),this.skyMap.render({seed:this.seed,resolution:this.resolution,res1:this.params.res1,res2:this.params.res2,resMix:this.params.resMix,mixScale:this.params.mixScale,nebulaMap:this.nebulaTexture.texture})}},{key:"updateMaterial",value:function(){for(var e=0;e<6;++e){var n=this.materials[e];n.map=this.skyMaps[e],n.opacity=this.params.opacity,n.wireframe=this.params.wireframe}}},{key:"randRange",value:function(e,n){var t=n-e;return e+window.rng()*t}},{key:"computeGeometry",value:function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.groupsNeedUpdate=!0}}])&&pt(n.prototype,t),o&&pt(n,o),a}(v.Object3D);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zt(e,n){return(zt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Pt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Ct(e);if(n){var r=Ct(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return St(this,t)}}function St(e,n){return!n||"object"!==wt(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&zt(e,n)}(a,e);var n,t,o,r=Pt(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,"sunCanvas",1024,"200px")}return n=a,(t=[{key:"generateTexture",value:function(e){var n=this.randRange(0,1),t=this.randRange(0,.5),o=this.randRange(.2,.5);this.baseColor=(new v.Color).setHSL(n,t,o),this.baseHue=this.randRange(0,1),this.clear(),this.drawBaseGradient(),this.drawStarGradient(),this.drawBeams(),this.drawHalo(),this.texture=new v.CanvasTexture(this.canvas)}},{key:"drawBaseGradient",value:function(){var e=this.width/2,n=this.width/2,t=this.width/2,o=this.baseHue+this.randRange(-.2,.2),r=.8,a=.1,i=this.ctx.createRadialGradient(e,n,0,e,n,t);this.addColorToGradient(0,{h:o,s:r,l:a,a:.5},i),this.addColorToGradient(.4,{h:o,s:r,l:a,a:.7},i),this.addColorToGradient(.6,{h:o-.05,s:r,l:a,a:.3},i),this.addColorToGradient(.9,{h:o,s:r,l:a,a:0},i),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawStarGradient",value:function(){var e,n=this.width/2,t=this.width/2,o=this.width/2,r=this.baseHue+this.randRange(-.1,.1),a=.6;e=this.randRange(.03,.07);var i=this.ctx.createRadialGradient(n,t,0,n,t,o);this.addColorToGradient(0,{h:r,s:a,l:1,a:1},i),this.addColorToGradient(e,{h:r,s:a,l:.9,a:1},i),this.addColorToGradient(2*e,{h:r,s:a,l:.6,a:.9},i),this.addColorToGradient(6*e,{h:r,s:a,l:.4,a:.4},i),this.addColorToGradient(11*e,{h:r,s:a,l:0,a:0},i),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawBeams",value:function(){var e=this.width/2,n=this.width/2,t=this.width/2,o=this.baseHue+this.randRange(-.05,.05),r=.9;this.randRange(.5,1);var a=this.ctx.createRadialGradient(e,n,0,e,n,t);this.addColorToGradient(0,{h:o,s:1,l:r,a:.1},a),this.addColorToGradient(.15,{h:o,s:1,l:r,a:.025},a),this.addColorToGradient(1,{h:o,s:1,l:r,a:0},a);var i=Math.floor(this.randRange(2,7));i*=2;for(var s=this.randRange(.05,.2),c=2*Math.PI/i,l=0;l<i;++l)for(var u=c*l,f=0;f<5;f++)u+=.02,this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.arc(e,n,t,u,u+s),this.ctx.lineTo(e,n),this.ctx.fillStyle=a,this.ctx.fill();s=this.randRange(.01,.15),a=this.ctx.createRadialGradient(e,n,0,e,n,t),this.addColorToGradient(0,{h:o,s:1,l:r,a:.1},a),this.addColorToGradient(.15,{h:o,s:1,l:r,a:.025},a),this.addColorToGradient(1,{h:o,s:1,l:r,a:0},a);for(var d=this.randRange(.1,Math.PI),h=0;h<i;++h)for(var p=c*h+d,v=0;v<3;v++)p+=.02,this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.arc(e,n,t,p,p+s),this.ctx.lineTo(e,n),this.ctx.fillStyle=a,this.ctx.fill()}},{key:"drawHalo",value:function(){var e=this.width/2,n=this.width/2,t=this.width/2,o=this.baseHue+this.randRange(-.2,.2),r=this.randRange(.1,.25),a=this.randRange(.02,.07),i=this.ctx.createRadialGradient(e,n,0,e,n,t);this.addColorToGradient(r-a,{h:o,s:1,l:.7,a:0},i),this.addColorToGradient(r,{h:o,s:1,l:.7,a:.2},i),this.addColorToGradient(r+a,{h:o,s:1,l:.7,a:0},i),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"addColorToGradient",value:function(e,n,t){t.addColorStop(e,this.getRGBAString(n))}},{key:"getRGBAString",value:function(e){var n=(new v.Color).setHSL(e.h,e.s,e.l);return"rgba("+Math.round(255*n.r)+", "+Math.round(255*n.g)+", "+Math.round(255*n.b)+","+e.a+")"}}])&&bt(n.prototype,t),o&&bt(n,o),a}(F);function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ot(e,n){return(Ot=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function jt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=kt(e);if(n){var r=kt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Ft(this,t)}}function Ft(e,n){return!n||"object"!==Mt(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ot(e,n)}(a,e);var n,t,o,r=jt(a);function a(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),e=r.call(this);var n=new v.TextureLoader;return e.textureFlare=n.load("assets/textures/flare/lensFlareSun.jpg"),e.textureRing=n.load("assets/textures/flare/lensFlareRing.jpg"),e.textureBlur=n.load("assets/textures/flare/lensFlareBlur.jpg"),e.textureSun=n.load("assets/textures/flare/lensFlare.jpg"),e.params={showTextureMap:!1,sunSize:1500,color:new v.Color(16777215)},e.sunTexture=new Rt,e.lensFlare=null,e.createControls(),e}return n=a,(t=[{key:"createControls",value:function(){var e=this;window.gui.addFolder("Sun").add(this.params,"showTextureMap").onChange((function(n){e.sunTexture&&e.sunTexture.visibleCanvas(n)}))}},{key:"update",value:function(){}},{key:"createLensFlare",value:function(){var e=this.randRange(0,1),n=(new v.Color).setHSL(e,1,1);this.params.sunSize=Math.round(this.randRange(1e3,2500)),this.lensFlare=new v.LensFlare(this.sunTexture.texture,this.params.sunSize,0,v.AdditiveBlending,n),this.lensFlare.add(this.sunTexture.texture,2*this.params.sunSize,.1,v.AdditiveBlending,n,.2);for(var t=this.randRange(1,3),o=0;o<t;++o){var r=this.randRange(100,600),a=this.randRange(-.1,.2),i=this.randomColor(),s=this.randRange(.05,.25);this.lensFlare.add(this.textureSun,r,a,v.AdditiveBlending,i,s)}for(var c=this.randRange(5,10),l=0;l<c;++l){var u=this.randRange(200,500),f=this.randRange(-.1,.2),d=this.randomColor(),h=this.randRange(.1,.23);this.lensFlare.add(this.textureFlare,u,f,v.AdditiveBlending,d,h)}for(var p=this.randRange(5,15),g=0;g<p;++g){var y=this.randRange(5,200),m=this.randRange(.05,.4),x=this.randomColor(),w=this.randRange(.1,.3);this.lensFlare.add(this.textureBlur,y,m,v.AdditiveBlending,x,w)}for(var b=this.randRange(5,25),z=0;z<b;++z){var P=this.randRange(5,200),S=this.randRange(-.05,-.2),C=this.randomColor(),R=this.randRange(.1,.3);this.lensFlare.add(this.textureBlur,P,S,v.AdditiveBlending,C,R)}for(var M=this.randRange(10,30),E=0;E<M;++E){var O=this.randRange(200,400),j=this.randRange(-.1,.3),F=this.randomColor(),k=this.randRange(0,.1);this.lensFlare.add(this.textureRing,O,j,v.AdditiveBlending,F,k)}this.lensFlare.position.set(-2e4,2e4,2e4),this.add(this.lensFlare)}},{key:"randomColor",value:function(){return(new v.Color).setHSL(this.randRange(0,1),this.randRange(0,.9),.5)}},{key:"randRange",value:function(e,n){var t=n-e;return e+Math.random()*t}},{key:"generateTexture",value:function(){this.sunTexture.generateTexture({})}},{key:"updateMaterial",value:function(){}},{key:"randomizeColor",value:function(){this.params.color.setHSL(this.randRange(0,1),1,1),this.updateMaterial()}},{key:"render",value:function(){this.remove(this.lensFlare),this.generateTexture(),this.createLensFlare()}}])&&Et(n.prototype,t),o&&Et(n,o),a}(v.Object3D),Bt=t("594y"),Kt=t.n(Bt),At=t("zBzJ"),Lt=t.n(At),It=t("kvsF"),Dt=t.n(It),Nt=t("zg8I"),Gt=t.n(Nt),qt=t("OUBw"),Ht=t.n(qt),Vt=t("oMeY"),Ut=t.n(Vt);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Qt(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Yt(e,n){return(Yt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Jt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Xt(e);if(n){var r=Xt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Zt(this,t)}}function Zt(e,n){return!n||"object"!==_t(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $t=t("q79D"),eo=t("NbV9"),no=t("CcrY"),to=t("RWZA"),oo=t("aZBE"),ro=t("DJ6x"),ao=t("Jy+Z"),io=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Yt(e,n)}(a,e);var n,t,o,r=Jt(a);function a(e,n){var t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:64,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:64;return Wt(this,a),(t=r.call(this)).random=e,t.noise=n,t.params={rotate:!0,earth:{visible:!0,radius:o,speed:5e-6,roughness:.087,lacunarity:.0015,rotation:new v.Vector3(0,.003,0)},ocean:{visible:!0,radius:.9999*o,speed:275963e-10,waterLevel:0},clouds:{visible:!0,radius:1.075*o,speed:214e-7,rangeFactor:.29,smoothness:2.6,rotation:new v.Vector3(53e-6,-.00138,3e-5)},atmosphere:{visible:!0,radius:1.085*o,speed:214e-7},moon:{visible:!0,radius:.27*o,speed:15e-5,positionX:5.36*o,roughness:.083,lacunarity:.083},light:{position:(new v.Vector3).copy(window.light.position).multiplyScalar(o),color:new v.Vector4(window.light.color.r,window.light.color.g,window.light.color.b,1),intensity:window.light.intensity}},t.setupPlanetEarth(i,s,c),t.setupEarthMoon(i,s,c),t.createControls(),t}return n=a,(t=[{key:"setupPlanetEarth",value:function(e,n,t){var o=new v.TextureLoader;this.earthPivotPoint=new v.Object3D,this.earthMesh=new v.Mesh(new v.IcosahedronBufferGeometry(this.params.earth.radius,e),new v.ShaderMaterial({uniforms:{texWater:{type:"t",value:o.load(ro)},texSand:{type:"t",value:o.load(no)},texGrass:{type:"t",value:o.load($t)},texStone:{type:"t",value:o.load(oo)},texSnow:{type:"t",value:o.load(to)},lightPosition:{type:"v3",value:this.params.light.position},lightColor:{type:"v4",value:this.params.light.color},lightIntensity:{type:"f",value:this.params.light.intensity},time:{type:"f",value:0},radius:{type:"f",value:this.params.earth.radius},roughness:{type:"f",value:this.params.earth.roughness},lacunarity:{type:"f",value:this.params.earth.lacunarity},seed:{type:"f",value:7*this.random()}},vertexShader:Lt.a,fragmentShader:Kt.a})),this.earthMesh.position.set(0,0,0),this.earthMesh.castShadow=!0,this.earthMesh.receiveShadow=!0,this.earthMesh.add(this.earthPivotPoint);var r=o.load(ao);r.wrapS=r.wrapT=v.RepeatWrapping,this.oceanMesh=new v.Mesh(new v.IcosahedronBufferGeometry(this.params.ocean.radius,e),new v.ShaderMaterial({uniforms:{texWater:{type:"t",value:r},lightPosition:{type:"v3",value:this.params.light.position},lightColor:{type:"v4",value:this.params.light.color},lightIntensity:{type:"f",value:this.params.light.intensity},time:{type:"f",value:0},radius:{type:"f",value:this.params.ocean.radius},roughness:{type:"f",value:2.7*this.params.earth.roughness},lacunarity:{type:"f",value:3.14*this.params.earth.lacunarity},seed:{type:"f",value:7*this.random()}},vertexShader:Ht.a,fragmentShader:Ut.a})),this.oceanMesh.position.set(0,0,0),this.oceanMesh.castShadow=!0,this.oceanMesh.receiveShadow=!0,this.earthMesh.add(this.oceanMesh),this.atmosphereMesh=new v.Mesh(new v.SphereGeometry(this.params.atmosphere.radius,n,t),new v.ShaderMaterial({uniforms:{lightPosition:{type:"v3",value:this.params.light.position},lightColor:{type:"v4",value:this.params.light.color},lightIntensity:{type:"f",value:this.params.light.intensity},time:{type:"f",value:0},radius:{type:"f",value:this.params.atmosphere.radius},roughness:{type:"f",value:this.params.earth.roughness},lacunarity:{type:"f",value:this.params.earth.lacunarity},seed:{type:"f",value:7*this.random()}},vertexShader:Ht.a,fragmentShader:Dt.a,side:v.BackSide,transparent:!0})),this.atmosphereMesh.position.set(0,0,0),this.atmosphereMesh.castShadow=!0,this.atmosphereMesh.receiveShadow=!0,this.earthMesh.add(this.atmosphereMesh),this.cloudsMesh=new v.Mesh(new v.SphereGeometry(this.params.clouds.radius,n,t),new v.ShaderMaterial({uniforms:{lightPosition:{type:"v3",value:this.params.light.position},lightColor:{type:"v4",value:this.params.light.color},lightIntensity:{type:"f",value:this.params.light.intensity},time:{type:"f",value:0},radius:{type:"f",value:this.params.clouds.radius},resolution:{type:"f",value:1024},baseColor:{type:"v3",value:new v.Vector3(.65,.65,.65)},rangeFactor:{type:"f",value:this.params.clouds.rangeFactor},smoothness:{type:"f",value:this.params.clouds.smoothness},seed:{type:"f",value:7*this.random()}},vertexShader:Ht.a,fragmentShader:Gt.a,side:v.DoubleSide,transparent:!0})),this.cloudsMesh.position.set(0,0,0),this.cloudsMesh.castShadow=!0,this.cloudsMesh.receiveShadow=!0,this.earthMesh.add(this.cloudsMesh),this.add(this.earthMesh)}},{key:"setupEarthMoon",value:function(e,n,t){var o=(new v.TextureLoader).load(eo);this.moonMesh=new v.Mesh(new v.IcosahedronBufferGeometry(this.params.moon.radius,e),new v.ShaderMaterial({uniforms:{texWater:{type:"t",value:o},texSand:{type:"t",value:o},texGrass:{type:"t",value:o},texStone:{type:"t",value:o},texSnow:{type:"t",value:o},lightPosition:{type:"v3",value:this.params.light.position},lightColor:{type:"v4",value:this.params.light.color},lightIntensity:{type:"f",value:this.params.light.intensity},time:{type:"f",value:0},radius:{type:"f",value:this.params.moon.radius},roughness:{type:"f",value:this.params.moon.roughness},lacunarity:{type:"f",value:this.params.moon.lacunarity},seed:{type:"f",value:7*this.random()}},vertexShader:Lt.a,fragmentShader:Kt.a})),this.moonMesh.position.set(this.params.moon.positionX,0,0),this.moonMesh.rotation.y=-180,this.add(this.moonMesh),this.earthPivotPoint.add(this.moonMesh)}},{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("Planet");n.add(this.params.earth,"visible").onChange((function(n){e.earthMesh.visible=n})),n.add(this.params,"rotate"),n.add(this.params.earth,"speed",-.001,.001),n.add(this.params.earth,"roughness",0,.1).onChange((function(n){e.updateMaterial()})),n.add(this.params.earth,"lacunarity",0,.01).onChange((function(n){e.updateMaterial()})),n.add(this.params.earth.rotation,"x").name("Rotation X").min(-.05).max(.05),n.add(this.params.earth.rotation,"y").name("Rotation Y").min(-.05).max(.05),n.add(this.params.earth.rotation,"z").name("Rotation Z").min(-.05).max(.05),n.close(),(n=window.gui.addFolder("Oceans")).add(this.params.ocean,"visible").onChange((function(n){e.oceanMesh.visible=n})),(n=window.gui.addFolder("Clouds")).add(this.params.clouds,"visible").onChange((function(n){e.cloudsMesh.visible=n})),n.add(this.params.clouds,"speed",0,.001),n.add(this.params.clouds,"rangeFactor",0,3).onChange((function(n){e.updateMaterial()})),n.add(this.params.clouds,"smoothness",0,3).onChange((function(n){e.updateMaterial()})),n.add(this.params.clouds.rotation,"x").name("Rotation X").min(-.05).max(.05),n.add(this.params.clouds.rotation,"y").name("Rotation Y").min(-.05).max(.05),n.add(this.params.clouds.rotation,"z").name("Rotation Z").min(-.05).max(.05),n.close(),(n=window.gui.addFolder("Atmosphere")).add(this.params.atmosphere,"visible").onChange((function(n){e.atmosphereMesh.visible=n})),n.close(),(n=window.gui.addFolder("Moon")).add(this.params.moon,"visible").onChange((function(n){e.moonMesh.visible=n})),n.add(this.params.moon,"speed",-.05,.05),n.add(this.params.moon,"roughness",0,.1).onChange((function(n){e.updateMaterial()})),n.add(this.params.moon,"lacunarity",0,.01).onChange((function(n){e.updateMaterial()})),n.close()}},{key:"randomize",value:function(){this.earthMesh.material.uniforms.seed.value=7*this.random(),this.oceanMesh.material.uniforms.seed.value=7*this.random(),this.atmosphereMesh.material.uniforms.seed.value=7*this.random(),this.cloudsMesh.material.uniforms.seed.value=7*this.random(),this.moonMesh.material.uniforms.seed.value=7*this.random()}},{key:"updateMaterial",value:function(){var e=(new v.Vector3).copy(window.light.position).multiplyScalar(this.params.earth.radius),n=new v.Vector4(window.light.color.r,window.light.color.g,window.light.color.b,1);this.moonMesh.material.uniforms.lightPosition.value.copy(e),this.moonMesh.material.uniforms.lightColor.value.copy(n),this.moonMesh.material.uniforms.lightIntensity.value=window.light.intensity,this.moonMesh.material.uniforms.roughness.value=this.params.moon.roughness,this.moonMesh.material.uniforms.lacunarity.value=this.params.moon.lacunarity,this.earthMesh.material.uniforms.lightPosition.value.copy(e),this.earthMesh.material.uniforms.lightColor.value.copy(n),this.earthMesh.material.uniforms.lightIntensity.value=window.light.intensity,this.earthMesh.material.uniforms.roughness.value=this.params.earth.roughness,this.earthMesh.material.uniforms.lacunarity.value=this.params.earth.lacunarity,this.oceanMesh.material.uniforms.lightPosition.value.copy(e),this.oceanMesh.material.uniforms.lightColor.value.copy(n),this.oceanMesh.material.uniforms.lightIntensity.value=window.light.intensity,this.oceanMesh.material.uniforms.roughness.value=2.7*this.params.earth.roughness,this.oceanMesh.material.uniforms.lacunarity.value=3.14*this.params.earth.lacunarity,this.atmosphereMesh.material.uniforms.lightPosition.value.copy(e),this.atmosphereMesh.material.uniforms.lightColor.value.copy(n),this.atmosphereMesh.material.uniforms.lightIntensity.value=window.light.intensity,this.atmosphereMesh.material.uniforms.roughness.value=this.params.earth.roughness,this.atmosphereMesh.material.uniforms.lacunarity.value=this.params.earth.lacunarity,this.cloudsMesh.material.uniforms.lightPosition.value.copy(e),this.cloudsMesh.material.uniforms.lightColor.value.copy(n),this.cloudsMesh.material.uniforms.lightIntensity.value=window.light.intensity,this.cloudsMesh.material.uniforms.rangeFactor.value=this.params.clouds.rangeFactor,this.cloudsMesh.material.uniforms.smoothness.value=this.params.clouds.smoothness}},{key:"update",value:function(){this.moonMesh.material.uniforms.time.value=.1*this.params.moon.speed,this.earthMesh.material.uniforms.time.value=.1*this.params.earth.speed,this.oceanMesh.material.uniforms.time.value+=.15*this.params.ocean.speed,this.atmosphereMesh.material.uniforms.time.value=.1*this.params.atmosphere.speed,this.cloudsMesh.material.uniforms.time.value+=.2*this.params.clouds.speed,this.cloudsMesh.rotation.x+=this.params.clouds.rotation.x,this.cloudsMesh.rotation.y+=this.params.clouds.rotation.y,this.cloudsMesh.rotation.z+=this.params.clouds.rotation.z,this.params.rotate&&(this.earthMesh.rotation.x+=this.params.earth.rotation.x,this.earthMesh.rotation.y+=this.params.earth.rotation.y,this.earthMesh.rotation.z+=this.params.earth.rotation.z,this.earthPivotPoint.rotation.y+=this.params.moon.speed)}},{key:"renderUI",value:function(){}},{key:"render",value:function(){this.randomize()}}])&&Qt(n.prototype,t),o&&Qt(n,o),a}(v.Object3D);function so(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var co=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,o;return n=e,(t=[{key:"generate",value:function(e){}}])&&so(n.prototype,t),o&&so(n,o),e}();function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fo(e,n){return(fo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ho(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=vo(e);if(n){var r=vo(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return po(this,t)}}function po(e,n){return!n||"object"!==lo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var go=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&fo(e,n)}(a,e);var n,t,o,r=ho(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"generate",value:function(e){for(var n=e.cubeSize,t=e.tessellation,o=new v.Geometry,r=o.vertices,a=0,i=0;i<t;i++)for(var s=0;s<t;s++)o.vertices.push(new v.Vector3(.5,.5-s/t,.5-i/t),new v.Vector3(.5,.5-(s+1)/t,.5-(i+1)/t),new v.Vector3(.5,.5-s/t,.5-(i+1)/t),new v.Vector3(.5,.5-(s+1)/t,.5-i/t)),o.vertices.push(new v.Vector3(-.5,.5-s/t,.5-i/t),new v.Vector3(-.5,.5-s/t,.5-(i+1)/t),new v.Vector3(-.5,.5-(s+1)/t,.5-i/t),new v.Vector3(-.5,.5-(s+1)/t,.5-(i+1)/t)),o.vertices.push(new v.Vector3(.5-s/t,.5,.5-i/t),new v.Vector3(.5-s/t,.5,.5-(i+1)/t),new v.Vector3(.5-(s+1)/t,.5,.5-(i+1)/t),new v.Vector3(.5-(s+1)/t,.5,.5-i/t)),o.vertices.push(new v.Vector3(.5-s/t,-.5,.5-i/t),new v.Vector3(.5-(s+1)/t,-.5,.5-i/t),new v.Vector3(.5-s/t,-.5,.5-(i+1)/t),new v.Vector3(.5-(s+1)/t,-.5,.5-(i+1)/t)),o.vertices.push(new v.Vector3(.5-s/t,.5-i/t,.5),new v.Vector3(.5-(s+1)/t,.5-i/t,.5),new v.Vector3(.5-(s+1)/t,.5-(i+1)/t,.5),new v.Vector3(.5-s/t,.5-(i+1)/t,.5)),o.vertices.push(new v.Vector3(.5-s/t,.5-(i+1)/t,-.5),new v.Vector3(.5-(s+1)/t,.5-i/t,-.5),new v.Vector3(.5-s/t,.5-i/t,-.5),new v.Vector3(.5-(s+1)/t,.5-(i+1)/t,-.5)),o.faces.push(new v.Face3(a,++a,++a,[r[a-2],r[a-1],r[a]])),o.faces.push(new v.Face3(a-2,++a,a-2,[r[a-3],r[a],r[a-3]])),o.faces.push(new v.Face3(++a,++a,++a,[r[a-2],r[a-1],r[a]])),o.faces.push(new v.Face3(a,a-1,++a,[r[a-1],r[a-2],r[a]])),o.faces.push(new v.Face3(++a,++a,++a,[r[a-2],r[a-1],r[a]])),o.faces.push(new v.Face3(a,++a,a-3,[r[a-1],r[a],r[a-3]])),o.faces.push(new v.Face3(++a,++a,++a,[r[a-2],r[a-1],r[a]])),o.faces.push(new v.Face3(a-1,++a,a-1,[r[a-2],r[a],r[a-1]])),o.faces.push(new v.Face3(++a,++a,++a,[r[a-2],r[a-1],r[a]])),o.faces.push(new v.Face3(a,++a,a-3,[r[a-1],r[a],r[a-3]])),o.faces.push(new v.Face3(++a,++a,++a,[r[a-2],r[a-1],r[a]])),o.faces.push(new v.Face3(a-2,++a,a-2,[r[a-3],r[a],r[a-2]])),a++;for(var c=0;c<o.vertices.length;c++)o.vertices[c].multiplyScalar(n);return o}}])&&uo(n.prototype,t),o&&uo(n,o),a}(co);function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mo(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xo(e,n){return(xo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function wo(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=zo(e);if(n){var r=zo(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return bo(this,t)}}function bo(e,n){return!n||"object"!==yo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function zo(e){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Po=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&xo(e,n)}(a,e);var n,t,o,r=wo(a);function a(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this)}return n=a,(t=[{key:"generate",value:function(e){var n=e.radius,t=e.tessellation,o=(new go).generate({cubeSize:n,tessellation:t});o.mergeVertices();for(var r=0;r<o.vertices.length;r++)o.vertices[r].normalize().multiplyScalar(n);return o}}])&&mo(n.prototype,t),o&&mo(n,o),a}(co);function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ro(e,n){return(Ro=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Mo(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Oo(e);if(n){var r=Oo(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Eo(this,t)}}function Eo(e,n){return!n||"object"!==So(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ko(e,n){return(ko=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function To(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Ko(e);if(n){var r=Ko(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Bo(this,t)}}function Bo(e,n){return!n||"object"!==jo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ao=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ko(e,n)}(a,e);var n,t,o,r=To(a);function a(e,n,t){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,e,n,t)}return n=a,(t=[{key:"generate",value:function(e){for(var n=e.planetSize,t=e.subdivisions,o=e.minHeight,r=e.maxHeight,a=(new Po).generate({radius:n,tessellation:t}),i=["a","b","c"],s=this.getMinMaxValues(a.vertices,n),c=0;c<a.vertices.length;c++){var l=a.vertices[c],u=this.rescale(this.getNoiseValue(l,n/2),s.minValue,s.maxValue,o,r);l.multiplyScalar(u);var f=this.terrainType.darkGrass.threshold*(r-o)+o-1e-4;u<f&&l.multiplyScalar(f/u)}for(var d=0;d<a.faces.length;d++){for(var h=0,p=a.faces[d],v=0;v<i.length;v++)h=Math.max(h,a.vertices[p[i[v]]].length()/n);var g=(h-o)/(r-o);this.setFaceColor(g,p)}return a}}])&&Fo(n.prototype,t),o&&Fo(n,o),a}(function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ro(e,n)}(a,e);var n,t,o,r=Mo(a);function a(e,n,t){var o;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),(o=r.call(this)).random=e,o.simplex=n,o.lacunarity=t.lacunarity,o.persistance=t.persistance,o.octaves=t.octaves,o.terrainType={mountainTop:{threshold:.87,color:15133674},darkMountain:{threshold:.85,color:7560027},mountain:{threshold:.76,color:8546408},grass:{threshold:.6,color:65280},darkGrass:{threshold:.57,color:2079236},sand:{threshold:.47,color:12891506},water:{threshold:0,color:3977430}},o}return n=a,(t=[{key:"generate",value:function(e){}},{key:"getNoiseValue",value:function(e,n){for(var t=1,o=1,r=0,a=0;a<this.octaves;a++)r+=t*this.simplex.noise3D(o*e.x/n,o*e.y/n,o*e.z/n),t*=this.persistance,o*=this.lacunarity;return r}},{key:"rescale",value:function(e,n,t,o,r){return(e-n)*(r-o)/(t-n)+o}},{key:"getMinMaxValues",value:function(e,n){for(var t=Number.MIN_VALUE,o=Number.MAX_VALUE,r=0;r<e.length;r++){var a=e[r],i=this.getNoiseValue(a,n/2);t=Math.max(t,i),o=Math.min(o,i)}return{minValue:o,maxValue:t}}},{key:"setFaceColor",value:function(e,n){e>this.terrainType.mountainTop.threshold?n.color.set(this.terrainType.mountainTop.color):e>this.terrainType.darkMountain.threshold?n.color.set(this.terrainType.darkMountain.color):e>this.terrainType.mountain.threshold?n.color.set(this.terrainType.mountain.color):e>this.terrainType.grass.threshold?n.color.set(this.terrainType.grass.color):e>this.terrainType.darkGrass.threshold?n.color.set(this.terrainType.darkGrass.color):e>this.terrainType.sand.threshold?n.color.set(this.terrainType.sand.color):e>this.terrainType.water.threshold&&n.color.set(this.terrainType.water.color)}},{key:"createPolygonMesh",value:function(e,n,t){for(var o=new THREE.Geometry,r=e.vertices,a=0;a<n.length;a++){var i=n[a];o.vertices.push(r[i].clone().multiplyScalar(t))}for(var s=0;s<n.length;s++){var c=n[s];o.vertices.push(r[c].clone())}return 6===n.length?(o.faces.push(new THREE.Face3(0,1,2)),o.faces.push(new THREE.Face3(0,2,3)),o.faces.push(new THREE.Face3(0,3,4)),o.faces.push(new THREE.Face3(0,4,5)),o.faces.push(new THREE.Face3(0,5,1)),o.faces.push(new THREE.Face3(6,7,8)),o.faces.push(new THREE.Face3(6,8,9)),o.faces.push(new THREE.Face3(6,9,10)),o.faces.push(new THREE.Face3(6,10,11)),o.faces.push(new THREE.Face3(6,11,7)),o.faces.push(new THREE.Face3(1,7,2)),o.faces.push(new THREE.Face3(2,7,8)),o.faces.push(new THREE.Face3(2,8,3)),o.faces.push(new THREE.Face3(3,8,9)),o.faces.push(new THREE.Face3(3,9,4)),o.faces.push(new THREE.Face3(4,9,10)),o.faces.push(new THREE.Face3(4,10,5)),o.faces.push(new THREE.Face3(5,10,11)),o.faces.push(new THREE.Face3(5,11,1)),o.faces.push(new THREE.Face3(1,11,7))):(o.faces.push(new THREE.Face3(0,1,2)),o.faces.push(new THREE.Face3(0,2,3)),o.faces.push(new THREE.Face3(0,3,4)),o.faces.push(new THREE.Face3(0,4,5)),o.faces.push(new THREE.Face3(0,5,6)),o.faces.push(new THREE.Face3(0,6,1)),o.faces.push(new THREE.Face3(7,8,9)),o.faces.push(new THREE.Face3(7,9,10)),o.faces.push(new THREE.Face3(7,10,11)),o.faces.push(new THREE.Face3(7,11,12)),o.faces.push(new THREE.Face3(7,12,13)),o.faces.push(new THREE.Face3(7,13,8)),o.faces.push(new THREE.Face3(1,8,2)),o.faces.push(new THREE.Face3(2,8,9)),o.faces.push(new THREE.Face3(2,9,3)),o.faces.push(new THREE.Face3(3,9,10)),o.faces.push(new THREE.Face3(3,10,4)),o.faces.push(new THREE.Face3(4,10,11)),o.faces.push(new THREE.Face3(4,11,5)),o.faces.push(new THREE.Face3(5,11,12)),o.faces.push(new THREE.Face3(5,12,6)),o.faces.push(new THREE.Face3(6,12,13)),o.faces.push(new THREE.Face3(6,13,1)),o.faces.push(new THREE.Face3(1,13,8))),o}}])&&Co(n.prototype,t),o&&Co(n,o),a}(co));function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Do(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function No(e,n){return(No=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Go(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Ho(e);if(n){var r=Ho(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return qo(this,t)}}function qo(e,n){return!n||"object"!==Lo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("xzPX"),t("NbV9"),t("Qn61");var Vo=t("RWZA");t("aZBE"),t("UmO4"),t("WcgB"),v.Object3D;function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Wo(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qo(e,n){return(Qo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Yo(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Zo(e);if(n){var r=Zo(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Jo(this,t)}}function Jo(e,n){return!n||"object"!==Uo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("xzPX"),t("NbV9"),t("Qn61"),t("RWZA"),t("aZBE"),t("UmO4"),t("WcgB"),v.Object3D;function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function er(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nr(e,n,t){return(nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=ar(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function tr(e,n){return(tr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function or(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=ar(e);if(n){var r=ar(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return rr(this,t)}}function rr(e,n){return!n||"object"!==Xo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.d(n,"a",(function(){return sr}));var ir=Math.pow(2,6),sr=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&tr(e,n)}(s,e);var n,t,o,a=or(s);function s(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $o(this,s),(e=a.call(this,n)).params={seedString:"Ik Esce",resolution:1024,autoGenerate:!1,autoGenTime:180,bloom:!1},e.autoGenCountCurrent=0,e.autoGenCountMax=60*e.params.autoGenTime,e.initSeed(),e.createControls(),e.setupPostprocessing(),e.nebula=new xt,e.scene.add(e.nebula),e.stars=new Jn,e.scene.add(e.stars),e.sun=new Tt,e.scene.add(e.sun),e.planet=new io(e.random,e.noise,1e3,6,ir,ir),e.scene.add(e.planet),e.setupControlsUI(),e}return n=s,(t=[{key:"createControls",value:function(){var e=this,n=window.gui.addFolder("General");n.add(this.params,"resolution",[128,256,512,1024,2048]).onChange((function(n){e.regenerate()})),n.add(this.params,"autoGenerate"),n.add(this.params,"autoGenTime",30,300).step(1).onChange((function(n){e.autoGenCountMax=60*e.params.autoGenTime})),n.add(this.params,"seedString").listen().onFinishChange((function(n){e.updateUrlAndRegenerate()})),document.addEventListener("keydown",(function(n){32==n.keyCode&&e.randomize()})),window.onpopstate=function(n){e.init()}}},{key:"setupPostprocessing",value:function(){this.renderer.autoClearColor=!0,this.composer=new r.a.Composer(this.renderer),this.bloomPass=new i.a({blurAmount:.1,applyZoomBlur:!0,zoomBlurStrength:3.3}),this.godrayPass=new c.a;var e=window.gui.addFolder("Post Processing");e.add(this.params,"bloom"),e.add(this.bloomPass.params,"blurAmount",0,5),e.add(this.bloomPass.params,"applyZoomBlur"),e.add(this.bloomPass.params,"zoomBlurStrength",0,5)}},{key:"updateQueryString",value:function(e,n,t){t||(t=window.location.href);var o,r=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");if(r.test(t))return null!=n?t.replace(r,"$1"+e+"="+n+"$2$3"):(o=t.split("#"),t=o[0].replace(r,"$1$3").replace(/(&|\?)$/,""),void 0!==o[1]&&null!==o[1]&&(t+="#"+o[1]),t);if(null!=n){var a=-1!==t.indexOf("?")?"&":"?";return o=t.split("#"),t=o[0]+a+e+"="+n,void 0!==o[1]&&null!==o[1]&&(t+="#"+o[1]),t}return t}},{key:"getParameterByName",value:function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}},{key:"initSeed",value:function(){window.seedString=this.params.seedString,window.rng=u()(this.params.seedString),this.random=new h(this.params.seedString),this.noise=new p(this.random)}},{key:"init",value:function(){nr(ar(s.prototype),"init",this).call(this),this.params.seedString=this.getParameterByName("seed"),this.params.seedString?(console.log("Using seed string: "+this.params.seedString),this.regenerate()):(console.log("No seed string - randomizing"),this.randomize())}},{key:"updateUrlAndRegenerate",value:function(){this.autoGenCountCurrent=0;var e=this.updateQueryString("seed",this.params.seedString);window.history.pushState({seed:this.params.seedString},this.params.seedString,e),this.regenerate()}},{key:"regenerate",value:function(){this.autoGenCountCurrent=0,this.render()}},{key:"generateNewSeed",value:function(){var e=Math.random(),n=0;n=e>.8?1:e>.4?2:3;for(var t="",o=0;o<n;++o){var r=d()({min:2,max:8});t+=r.charAt(0).toUpperCase()+r.slice(1),o<n-1&&(t+=" ")}return t}},{key:"randomize",value:function(){this.autoGenCountCurrent=0,this.params.seedString=this.generateNewSeed(),this.updateUrlAndRegenerate()}},{key:"changeResolution",value:function(){this.planet.resolution=this.params.resolution}},{key:"render",value:function(){this.initSeed(),this.updateWorldName(),window.renderQueue.start(),this.changeResolution(),this.nebula.render(),this.stars.render({nebulaMap:this.nebula.nebulaTexture.texture}),this.sun.render(),this.planet.render(),window.renderQueue.finish()}},{key:"setupControlsUI",value:function(){var e=this,n=document.createElement("div");n.setAttribute("id","infoBoxHolder"),document.body.appendChild(n);var t=document.createElement("div");t.setAttribute("id","newPlanetButtonHolder"),t.setAttribute("class","text-center"),t.innerHTML="<button id='newPlanetButton' class='btn btn-primary'>New</button>",n.appendChild(t),document.getElementById("newPlanetButton").addEventListener("click",(function(n){e.randomize()}));var o=document.createElement("div");o.setAttribute("id","infoBox"),o.innerHTML="World<br><div id='planetName'></div><br><div id='instructions'>H - Show/Hide UI<br>SPACEBAR - New Planet</div>",n.appendChild(o);var r=document.createElement("div");r.setAttribute("id","line"),n.appendChild(r),n.appendChild(window.gui.domElement),this.updateWorldName(),window.gui.add(this,"randomize")}},{key:"updateWorldName",value:function(){var e=document.getElementById("planetName");null!=e&&(e.innerHTML=this.params.seedString)}},{key:"update",value:function(){this.nebula.update(),this.stars.update(),this.sun.update(),this.planet.update(),this.params.autoGenerate&&(this.autoGenCountCurrent++,this.autoGenCountCurrent>this.autoGenCountMax&&this.randomize()),this.stars.position.copy(window.camera.position),this.nebula.position.copy(window.camera.position),this.params.bloom&&(this.composer.reset(),this.composer.render(this.scene,this.camera),this.composer.pass(this.bloomPass),this.composer.pass(this.godrayPass),this.composer.toScreen())}}])&&er(n.prototype,t),o&&er(n,o),s}(R)},qRcc:function(e,n){e.exports="#define GLSLIFY 1\nuniform float time;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 cameraVector;\n\nvoid main() {\n    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n\n    // vPosition = normalize(position) * scale;\n    vPosition = position;\n    vNormal = normal;\n    cameraVector = cameraPosition - vPosition;\n\n    // vec3 newPosition = position + normal * amplitude * displacement;\n    vec3 newPosition = position;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n}\n"},uEp1:function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 viewVector;\nuniform float c;\nuniform float p;\n\nvarying float intensity;\n\nvoid main()\n{\n    vec3 vNormal = normalize(normalMatrix * normal);\n    vec3 vNormel = normalize(normalMatrix * viewVector);\n    intensity = pow(c - dot(vNormal, vNormel), p);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},uPvV:function(e,n,t){(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t={isWebGLAvailable:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}},isWebGL2Available:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(e){return!1}},getWebGLErrorMessage:function(){return this.getErrorMessage(1)},getWebGL2ErrorMessage:function(){return this.getErrorMessage(2)},getErrorMessage:function(e){var n={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},t='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',o=document.createElement("div");return o.id="webglmessage",o.style.fontFamily="monospace",o.style.fontSize="13px",o.style.fontWeight="normal",o.style.textAlign="center",o.style.background="#fff",o.style.color="#000",o.style.padding="1.5em",o.style.width="400px",o.style.margin="5em auto 0",t=(t=n[e]?t.replace("$0","graphics card"):t.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),o.innerHTML=t,o}};"object"===n(e)&&(e.exports=t)}).call(this,t("YuTi")(e))},uxjU:function(e,n){e.exports="#define GLSLIFY 1\nuniform vec3 glowColor;\n\nvarying float intensity;\n\nvoid main()\n{\n    vec3 glow = glowColor * intensity;\n    gl_FragColor = vec4(glow, 1.0);\n}\n"},xzPX:function(e,n,t){e.exports=t.p+"assets/textures/grass3.jpg"},zBzJ:function(e,n){e.exports='precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nconst vec3 turbulenceVec3 = vec3(10.0, 10.0, 10.0);\n\nfloat turbulence(vec3 p) {\n    float w = 100.0;\n    float t = -.5;\n    for (float f = 1.0; f <= 10.0; f++){\n        float power = pow(2.0, f);\n        t += abs(pnoise(vec3(power * p), turbulenceVec3) / power);\n    }\n    return t;\n}\n\n    \n\nuniform vec3 lightPosition;\nuniform vec4 lightColor;\nuniform float lightIntensity;\nuniform float radius;\nuniform float time;\nuniform float roughness;\nuniform float lacunarity;\nuniform float seed;\n\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vReflect;\nvarying vec3 vPosition;\nvarying vec3 vPosition01;\nvarying vec3 vNewPosition;\nvarying float displacement;\nvarying vec3 lightDirection;\n\nconst float PI = 3.14159265358979323846264;\nconst vec3 noiseVec3 = vec3(PI);\n\nfloat random(vec3 p){\n    return fract(sin(dot(p.xyz, vec3(12.9898, 78.233, 1.23456))) * (5356.5453+ seed*1234.7582));\n}\n\nfloat stripes(float x, float f) {\n    float t = .5 + .5 * sin(f * 2.0 * PI * x);\n    return t * t - .5;\n}\n\nvoid main() {\n    vUv = uv;\n    vec4 mPosition = modelMatrix * vec4(position, 1.0);\n    vec3 nWorld = normalize(mat3(modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz) * normal);\n    vReflect = normalize(reflect(normalize(mPosition.xyz - cameraPosition), nWorld));\n    vPosition = position;\n    vNormal = normal;\n\n    displacement = random(normal) * radius * roughness / 6.123;\n    displacement += -turbulence(2.0 * normal) * radius * roughness;\n    displacement += pnoise(lacunarity * position + noiseVec3, noiseVec3) * radius * roughness;\n    lightDirection = normalize(lightPosition - position);\n\n    vNewPosition = position + normal * vec3(displacement);\n    vPosition01 = normalize(vNewPosition)/2.0 + vec3(0.5, 0.5, 0.5);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(vNewPosition, 1.0);\n}\n'},zTiM:function(e,n){e.exports='#define GLSLIFY 1\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_0(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute_0(permute_0(ix) + iy);\n  vec4 ixy0 = permute_0(ixy + iz0);\n  vec4 ixy1 = permute_0(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n// Permutation polynomial: (34x^2 + x) mod 289\nvec3 permute_1(vec3 x) {\n  return mod((34.0 * x + 1.0) * x, 289.0);\n}\n\nvec3 dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {\n  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);\n}\n\nvec2 worley(vec3 P, float jitter, bool manhattanDistance) {\nfloat K = 0.142857142857; // 1/7\nfloat Ko = 0.428571428571; // 1/2-K/2\nfloat  K2 = 0.020408163265306; // 1/(7*7)\nfloat Kz = 0.166666666667; // 1/6\nfloat Kzo = 0.416666666667; // 1/2-1/6*2\n\n\tvec3 Pi = mod(floor(P), 289.0);\n \tvec3 Pf = fract(P) - 0.5;\n\n\tvec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\n\tvec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\n\n\tvec3 p = permute_1(Pi.x + vec3(-1.0, 0.0, 1.0));\n\tvec3 p1 = permute_1(p + Pi.y - 1.0);\n\tvec3 p2 = permute_1(p + Pi.y);\n\tvec3 p3 = permute_1(p + Pi.y + 1.0);\n\n\tvec3 p11 = permute_1(p1 + Pi.z - 1.0);\n\tvec3 p12 = permute_1(p1 + Pi.z);\n\tvec3 p13 = permute_1(p1 + Pi.z + 1.0);\n\n\tvec3 p21 = permute_1(p2 + Pi.z - 1.0);\n\tvec3 p22 = permute_1(p2 + Pi.z);\n\tvec3 p23 = permute_1(p2 + Pi.z + 1.0);\n\n\tvec3 p31 = permute_1(p3 + Pi.z - 1.0);\n\tvec3 p32 = permute_1(p3 + Pi.z);\n\tvec3 p33 = permute_1(p3 + Pi.z + 1.0);\n\n\tvec3 ox11 = fract(p11*K) - Ko;\n\tvec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;\n\tvec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\n\n\tvec3 ox12 = fract(p12*K) - Ko;\n\tvec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;\n\tvec3 oz12 = floor(p12*K2)*Kz - Kzo;\n\n\tvec3 ox13 = fract(p13*K) - Ko;\n\tvec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;\n\tvec3 oz13 = floor(p13*K2)*Kz - Kzo;\n\n\tvec3 ox21 = fract(p21*K) - Ko;\n\tvec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;\n\tvec3 oz21 = floor(p21*K2)*Kz - Kzo;\n\n\tvec3 ox22 = fract(p22*K) - Ko;\n\tvec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;\n\tvec3 oz22 = floor(p22*K2)*Kz - Kzo;\n\n\tvec3 ox23 = fract(p23*K) - Ko;\n\tvec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;\n\tvec3 oz23 = floor(p23*K2)*Kz - Kzo;\n\n\tvec3 ox31 = fract(p31*K) - Ko;\n\tvec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;\n\tvec3 oz31 = floor(p31*K2)*Kz - Kzo;\n\n\tvec3 ox32 = fract(p32*K) - Ko;\n\tvec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;\n\tvec3 oz32 = floor(p32*K2)*Kz - Kzo;\n\n\tvec3 ox33 = fract(p33*K) - Ko;\n\tvec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;\n\tvec3 oz33 = floor(p33*K2)*Kz - Kzo;\n\n\tvec3 dx11 = Pfx + jitter*ox11;\n\tvec3 dy11 = Pfy.x + jitter*oy11;\n\tvec3 dz11 = Pfz.x + jitter*oz11;\n\n\tvec3 dx12 = Pfx + jitter*ox12;\n\tvec3 dy12 = Pfy.x + jitter*oy12;\n\tvec3 dz12 = Pfz.y + jitter*oz12;\n\n\tvec3 dx13 = Pfx + jitter*ox13;\n\tvec3 dy13 = Pfy.x + jitter*oy13;\n\tvec3 dz13 = Pfz.z + jitter*oz13;\n\n\tvec3 dx21 = Pfx + jitter*ox21;\n\tvec3 dy21 = Pfy.y + jitter*oy21;\n\tvec3 dz21 = Pfz.x + jitter*oz21;\n\n\tvec3 dx22 = Pfx + jitter*ox22;\n\tvec3 dy22 = Pfy.y + jitter*oy22;\n\tvec3 dz22 = Pfz.y + jitter*oz22;\n\n\tvec3 dx23 = Pfx + jitter*ox23;\n\tvec3 dy23 = Pfy.y + jitter*oy23;\n\tvec3 dz23 = Pfz.z + jitter*oz23;\n\n\tvec3 dx31 = Pfx + jitter*ox31;\n\tvec3 dy31 = Pfy.z + jitter*oy31;\n\tvec3 dz31 = Pfz.x + jitter*oz31;\n\n\tvec3 dx32 = Pfx + jitter*ox32;\n\tvec3 dy32 = Pfy.z + jitter*oy32;\n\tvec3 dz32 = Pfz.y + jitter*oz32;\n\n\tvec3 dx33 = Pfx + jitter*ox33;\n\tvec3 dy33 = Pfy.z + jitter*oy33;\n\tvec3 dz33 = Pfz.z + jitter*oz33;\n\n\tvec3 d11 = dist(dx11, dy11, dz11, manhattanDistance);\n\tvec3 d12 =dist(dx12, dy12, dz12, manhattanDistance);\n\tvec3 d13 = dist(dx13, dy13, dz13, manhattanDistance);\n\tvec3 d21 = dist(dx21, dy21, dz21, manhattanDistance);\n\tvec3 d22 = dist(dx22, dy22, dz22, manhattanDistance);\n\tvec3 d23 = dist(dx23, dy23, dz23, manhattanDistance);\n\tvec3 d31 = dist(dx31, dy31, dz31, manhattanDistance);\n\tvec3 d32 = dist(dx32, dy32, dz32, manhattanDistance);\n\tvec3 d33 = dist(dx33, dy33, dz33, manhattanDistance);\n\n\tvec3 d1a = min(d11, d12);\n\td12 = max(d11, d12);\n\td11 = min(d1a, d13); // Smallest now not in d12 or d13\n\td13 = max(d1a, d13);\n\td12 = min(d12, d13); // 2nd smallest now not in d13\n\tvec3 d2a = min(d21, d22);\n\td22 = max(d21, d22);\n\td21 = min(d2a, d23); // Smallest now not in d22 or d23\n\td23 = max(d2a, d23);\n\td22 = min(d22, d23); // 2nd smallest now not in d23\n\tvec3 d3a = min(d31, d32);\n\td32 = max(d31, d32);\n\td31 = min(d3a, d33); // Smallest now not in d32 or d33\n\td33 = max(d3a, d33);\n\td32 = min(d32, d33); // 2nd smallest now not in d33\n\tvec3 da = min(d11, d21);\n\td21 = max(d11, d21);\n\td11 = min(da, d31); // Smallest now in d11\n\td31 = max(da, d31); // 2nd smallest now not in d31\n\td11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\n\td11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\n\td12 = min(d12, d21); // 2nd smallest now not in d21\n\td12 = min(d12, d22); // nor in d22\n\td12 = min(d12, d31); // nor in d31\n\td12 = min(d12, d32); // nor in d32\n\td11.yz = min(d11.yz,d12.xy); // nor in d12.yz\n\td11.y = min(d11.y,d12.z); // Only two more to go\n\td11.y = min(d11.y,d11.z); // Done! (Phew!)\n\treturn sqrt(d11.xy); // F1, F2\n\n}\n\nuniform int index;\nuniform float seed;\nuniform float resolution;\nuniform float res1;\nuniform float res2;\nuniform float resMix;\nuniform float mixScale;\nuniform sampler2D nebulaMap;\n\nvarying vec2 vUv;\n\nvec3 getSphericalCoord(int index, float x, float y, float width) {\n    width /= 2.0;\n    x -= width;\n    y -= width;\n    vec3 coord = vec3(0.0, 0.0, 0.0);\n\n    if (index == 0) { coord.x=width; coord.y=-y; coord.z=-x; }\n    else if (index == 1) { coord.x=-width; coord.y=-y; coord.z=x; }\n    else if (index == 2) { coord.x=x; coord.y=width; coord.z=y; }\n    else if (index == 3) { coord.x=x; coord.y=-width; coord.z=-y; }\n    else if (index == 4) { coord.x=x; coord.y=-y; coord.z=width; }\n    else if (index == 5) { coord.x=-x; coord.y=-y; coord.z=-width; }\n\n    return normalize(coord);\n}\n\nfloat simplex(vec3 pos, float seed) {\n    float n = cnoise(vec3(pos + seed));\n    // return (n + 1.0) * 0.5;\n    n = (n + 1.0) * 0.5;\n    // n = 2.0 * (0.5 - abs(0.5 - n));\n    return n;\n}\n\nfloat baseNoise(vec3 pos, float frq, float seed) {\n    const int octaves = 16;\n    float amp = 0.5;\n\n    float n = 0.0;\n    float gain = 1.0;\n    for (int i=0; i<octaves; ++i) {\n        n +=  simplex(vec3(pos.x*gain/frq, pos.y*gain/frq, pos.z*gain/frq), seed+float(i)*10.0) * amp/gain;\n        gain *= 2.0;\n    }\n\n    // increase contrast\n    n = ((n - 0.5) * 3.0) + 0.6;\n    return n;\n}\n\nvoid main() {\n    float x = vUv.x;\n    float y = 1.0 - vUv.y;\n    vec3 sphericalCoord = getSphericalCoord(index, x*resolution, y*resolution, resolution);\n\n    // create base stars\n    vec2 F = worley((sphericalCoord * 200.0) + vec3(seed), 1.0, true);\n    float F1 = F.x;\n    float F2 = F.y;\n\n    float n = F1;\n    n = 1.0 - n;\n    n *= 1.2;\n    n = pow(n, 4.0);\n\n    float sub1 = baseNoise(sphericalCoord, 0.003, seed+32.284);\n    n *= sub1;\n    vec3 starsColor = vec3(n);\n\n    //    float n = 0.0;\n    //    float res = 200.0;\n    //    float mag = 0.7;\n    //    for (int i=0; i<4; ++i) {\n    //        vec2 F = worley3D((sphericalCoord * res) + vec3(seed), 1.0, true);\n    //        float F1 = F.x;\n    //        float F2 = F.y;\n    //        n += pow(F1, 1.0) * mag;\n    //       res *= 3.0;\n    //       mag *= 0.5;\n    //     }\n    //     n = 1.0-n;\n    //     n = pow(n, 3.0);\n    //     vec3 starsColor = vec3(n);\n\n    gl_FragColor = vec4(starsColor, 1.0);\n}\n'},zg8I:function(e,n){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform float time;\nuniform vec4 lightColor;\nuniform float lightIntensity;\nuniform vec3 baseColor;\nuniform float resolution;\nuniform float rangeFactor;\nuniform float smoothness;\nuniform float seed;\n\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec3 lightDirection;\n\nconst float PI = 3.14159265358979323846264;\n\nint mod(int x, int m) {\n    return int(mod(float(x), float(m)));\n}\n\nfloat random5(vec3 co) {\n    return fract(sin(dot(co.xyz, vec3(12.9898, 78.233, 1.23456))) * (5356.5453+ seed*1234.7582));\n}\n\nfloat random4(float x, float y, float z) {\n    return random5(vec3(x, y, z));\n}\n\nfloat random4(int x, int y, int z) {\n    return random4(float(x), float(y), float(z));\n}\n\nfloat interpolation(float a, float b, float x) {\n    float ft = x * PI;\n    float f = (1.0 - cos(ft)) * 0.5;\n    return a*(1.0-f) + b*f;\n}\n\nfloat tricosine(vec3 coordFloat) {\n    vec3 coord0 = vec3(floor(coordFloat.x), floor(coordFloat.y), floor(coordFloat.z));\n    vec3 coord1 = vec3(coord0.x+1.0, coord0.y+1.0, coord0.z+1.0);\n\n    float xd = (coordFloat.x - coord0.x)/max(1.0, (coord1.x - coord0.x));\n    float yd = (coordFloat.y - coord0.y)/max(1.0, (coord1.y - coord0.y));\n    float zd = (coordFloat.z - coord0.z)/max(1.0, (coord1.z - coord0.z));\n\n    float c00 = interpolation(random4(coord0.x, coord0.y, coord0.z), random4(coord1.x, coord0.y, coord0.z), xd);\n    float c10 = interpolation(random4(coord0.x, coord1.y, coord0.z), random4(coord1.x, coord1.y, coord0.z), xd);\n    float c0 = interpolation(c00, c10, yd);\n\n    float c01 = interpolation(random4(coord0.x, coord0.y, coord1.z), random4(coord1.x, coord0.y, coord1.z), xd);\n    float c11 = interpolation(random4(coord0.x, coord1.y, coord1.z), random4(coord1.x, coord1.y, coord1.z), xd);\n    float c1 = interpolation(c01, c11, yd);\n\n    float c = interpolation(c0, c1, zd);\n    return c;\n}\n\nfloat nearestNeighbour(vec3 coordFloat) {\n    return random4(int(floor(coordFloat.x)), int(floor(coordFloat.y)), int(floor(coordFloat.z)));\n}\n\nfloat helper(float x, float y, float z, float resolution, vec3 offset) {\n    x = offset.x + (x+1.0)/2.0*resolution;\n    y = offset.y + (y+1.0)/2.0*resolution;\n    z = offset.z + (z+1.0)/2.0*resolution;\n\n    vec3 coordFloat = vec3(x, y, z);\n    float interpolated = tricosine(coordFloat);\n//    float interpolated = (tricosine(coordFloat) * 0.851) + (nearestNeighbour(coordFloat + offset) * 0.11234);\n    //float interpolated = nearestNeighbour(coordFloat);\n    return interpolated;\n}\n\nvec3 scalarField(float x, float y, float z, float smoothness) {\n    float c = 0.0;\n    float amp = 0.56;\n    float speed = 3.0;\n    for (int l = 6; l > 0; l--) {\n        float res = resolution/pow(2.0, float(l));\n        float level = helper(x, y, z, res, vec3(sin(time*speed)*5.0, cos(time*speed)*5.0, time*speed));\n        c += level*amp;\n        amp/=smoothness;\n    }\n    if (c > 0.0) c *= 1.15;\n\n    c = clamp(c, 0.0, 1.0);\n\n    return vec3(c, c, c);\n}\n\nconst float threshold = 0.45;\n\nvoid main() {\n    vec3 np = normalize(vPosition);\n    vec3 grad = scalarField(np.x, np.y, np.z, smoothness);\n    vec3 col = vec3(baseColor) +  (grad-0.65)/rangeFactor;\n    vec4 color = vec4(col, 1.0);\n\n    float a = max(0.1, dot(vNormal, lightDirection))*lightIntensity/2.0;\n\n    vec4 finalColor = lightColor * color * a;\n    float densityFactor = 1.061213;// this value should be > 1.0\n    float alpha = (color.r-threshold)/(1.0-threshold)*densityFactor;\n    gl_FragColor = vec4(finalColor.rgb, alpha);\n}\n"}},[["e6Wu",1,2]]]);